2025-12-16 16:13:52 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 16:13:56 [INFO] kmchat.cli - Prompt utente: Cosa c’è da fare Lunedì?
2025-12-16 16:15:53 [ERROR] kmchat.cli - Errore durante la chat: peer closed connection without sending complete message body (incomplete chunked read)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 271, in __aiter__
    async for part in self._httpcore_stream:
        yield part
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 407, in __aiter__
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 403, in __aiter__
    async for part in self._stream:
        yield part
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/http11.py", line 342, in __aiter__
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/http11.py", line 334, in __aiter__
    async for chunk in self._connection._receive_response_body(**kwargs):
        yield chunk
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/http11.py", line 203, in _receive_response_body
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_async/http11.py", line 213, in _receive_event
    with map_exceptions({h11.RemoteProtocolError: RemoteProtocolError}):
         ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.RemoteProtocolError: peer closed connection without sending complete message body (incomplete chunked read)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 150, in chat_loop
    result = await handler
             ^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/workflows/runtime/broker.py", line 167, in _run_workflow
    workflow_result = await registered.workflow_function(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/workflows/runtime/control_loop.py", line 308, in control_loop
    return await runner.run(start_event=start_event)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/workflows/runtime/control_loop.py", line 281, in run
    result = await self.process_command(command)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/workflows/runtime/control_loop.py", line 200, in process_command
    raise command.exception
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/workflows/runtime/types/step_function.py", line 118, in wrapper
    result = await partial_func()
             ^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index_instrumentation/dispatcher.py", line 386, in async_wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/agent/workflow/base_agent.py", line 398, in run_agent_step
    agent_output = await self.take_step(
                   ^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/agent/workflow/react_agent.py", line 153, in take_step
    last_chat_response = await self._get_streaming_response(ctx, input_chat)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/agent/workflow/react_agent.py", line 92, in _get_streaming_response
    async for last_chat_response in response:
    ...<19 lines>...
            )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 89, in wrapped_gen
    async for x in f_return_val:
    ...<8 lines>...
        last_response = x
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 545, in gen
    async for r in response:
    ...<52 lines>...
        )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 759, in inner
    async for line in r.aiter_lines():
    ...<3 lines>...
      yield cls(**part)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 1031, in aiter_lines
    async for text in self.aiter_text():
        for line in decoder.decode(text):
            yield line
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 1018, in aiter_text
    async for byte_content in self.aiter_bytes():
    ...<2 lines>...
            yield chunk
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 997, in aiter_bytes
    async for raw_bytes in self.aiter_raw():
    ...<2 lines>...
            yield chunk
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 1055, in aiter_raw
    async for raw_stream_bytes in self.stream:
    ...<2 lines>...
            yield chunk
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 176, in __aiter__
    async for chunk in self._stream:
        yield chunk
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 270, in __aiter__
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: peer closed connection without sending complete message body (incomplete chunked read)
2025-12-16 23:29:20 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:29:32 [INFO] kmchat.cli - Prompt utente: Cosa c'è da fare Lunedì
2025-12-16 23:31:56 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:31:56 [INFO] kmchat.cli - Test prompt: Cosa c'è in programma per Lunedì?
2025-12-16 23:35:31 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:35:31 [INFO] kmchat.cli - Test prompt: Cosa c'è in programma per Lunedì?
2025-12-16 23:36:22 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:36:22 [INFO] kmchat.cli - Test prompt: Ciao!
2025-12-16 23:39:11 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:39:11 [INFO] kmchat.cli - Test prompt: Ciao!
2025-12-16 23:42:59 [INFO] kmchat.cli - Inizializzazione agente con modello llama3.1
2025-12-16 23:43:00 [INFO] kmchat.cli - Test prompt: Ciao!
2025-12-16 23:49:00 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-16 23:50:00 [ERROR] kmchat.cli - Errore agente: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 285, in run_lite_agent
    final_resp = llm.complete(final_prompt).text
                 ~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index_instrumentation/dispatcher.py", line 335, in wrapper
    result = func(*args, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 435, in wrapped_llm_predict
    f_return_val = f(_self, *args, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 656, in complete
    return chat_to_completion_decorator(self.chat)(prompt, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 184, in wrapper
    chat_response = func(messages, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index_instrumentation/dispatcher.py", line 335, in wrapper
    result = func(*args, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 175, in wrapped_llm_chat
    f_return_val = f(_self, messages, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 394, in chat
    response = self.client.chat(
        model=self.model,
    ...<6 lines>...
        keep_alive=self.keep_alive,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 365, in chat
    return self._request(
           ~~~~~~~~~~~~~^
      ChatResponse,
      ^^^^^^^^^^^^^
    ...<14 lines>...
      stream=stream,
      ^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 129, in _request_raw
    r = self._client.request(*args, **kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2025-12-16 23:51:11 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-16 23:54:30 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Visita parenti', 'description': 'Arrivano zii', 'days': ['Lunedì'], 'time': '08:00'}
2025-12-17 00:06:01 [ERROR] kmchat.cli - Errore agente: model 'llama3.2' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 124, in run_lite_agent
    for token in response_gen:
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 133, in _request_raw
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'llama3.2' not found (status code: 404)
2025-12-17 00:12:24 [ERROR] kmchat.cli - Errore parsing JSON LLM: Expecting property name enclosed in double quotes: line 2 column 1 (char 2). Risposta grezza: {
{
 {
  "{
  "action{
  "action":{
  "action": "{
  "action": "reply{
  "action": "reply",
{
  "action": "reply",
 {
  "action": "reply",
  "{
  "action": "reply",
  "message{
  "action": "reply",
  "message":{
  "action": "reply",
  "message": "{
  "action": "reply",
  "message": "C{
  "action": "reply",
  "message": "Ciao{
  "action": "reply",
  "message": "Ciao!{
  "action": "reply",
  "message": "Ciao! S{
  "action": "reply",
  "message": "Ciao! Sono{
  "action": "reply",
  "message": "Ciao! Sono KM{
  "action": "reply",
  "message": "Ciao! Sono KMChat{
  "action": "reply",
  "message": "Ciao! Sono KMChat,{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assist{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente med{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intellig{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente.{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come pos{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso ai{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiut{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
}{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
}
2025-12-17 00:13:06 [ERROR] kmchat.cli - Errore parsing JSON LLM: Expecting property name enclosed in double quotes: line 2 column 1 (char 2). Risposta grezza: {
{
 {
  "{
  "action{
  "action":{
  "action": "{
  "action": "reply{
  "action": "reply",
{
  "action": "reply",
 {
  "action": "reply",
  "{
  "action": "reply",
  "message{
  "action": "reply",
  "message":{
  "action": "reply",
  "message": "{
  "action": "reply",
  "message": "C{
  "action": "reply",
  "message": "Ciao{
  "action": "reply",
  "message": "Ciao!{
  "action": "reply",
  "message": "Ciao! S{
  "action": "reply",
  "message": "Ciao! Sono{
  "action": "reply",
  "message": "Ciao! Sono KM{
  "action": "reply",
  "message": "Ciao! Sono KMChat{
  "action": "reply",
  "message": "Ciao! Sono KMChat,{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assist{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente med{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intellig{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente.{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come pos{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso ai{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiut{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
}{
  "action": "reply",
  "message": "Ciao! Sono KMChat, il tuo assistente medico intelligente. Come posso aiutarti oggi?"
}
2025-12-17 00:17:06 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedè'}
2025-12-17 00:18:17 [ERROR] kmchat.cli - Errore parsing JSON LLM: Expecting value: line 1 column 1 (char 0). Risposta grezza: JSON:
{
  "action": "call_tool",
  "tool_name": "add_activity",
  "arguments": {
    "name": "Visita",
    "description": "Importante",
    "days": ["Lunedì"],
    "time": "08:00"
  }
}
2025-12-17 00:19:01 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Visita', 'description': 'Importante', 'days': ['Lunedì'], 'time': '08:00'}
2025-12-17 00:25:12 [ERROR] kmchat.cli - Errore parsing JSON LLM: Expecting value: line 1 column 1 (char 0). Risposta grezza: Non sono pronto per rispondere. Per favore, fornisci l'esempio completo dell'interazione con l'utente. 

(Nota: non ho capito bene cosa si aspetti come risposta finale)
2025-12-17 00:27:21 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 00:30:04 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Visita', 'description': 'Importante', 'days': ['Lunedì'], 'time': '08:00'}
2025-12-17 01:03:03 [ERROR] kmchat.cli - Errore parsing JSON LLM: Expecting value: line 1 column 1 (char 0). Risposta grezza: Ciao Anna Verdi!

Sono KMChat, il tuo assistente medico intelligente per la gestione delle terapie. Come posso esserti utile oggi?

Se hai bisogno di informazioni o vuoi aggiornare le attività del paziente Mario Rossi, puoi chiedere. Altrimenti, possiamo iniziare con un saluto e vedere come posso aiutarti.

Se hai bisogno di consultare le linee guida o di aggiungere una nuova attività, puoi utilizzare i tool disponibili. Per esempio, per sapere cosa c'è in programma per domani, puoi chiedere `get_schedule` con il giorno specifico.

Per quanto riguarda l'informazione che hai appena condiviso sul paziente Mario Rossi, posso aiutarti a consultare le linee guida o a salvare questa informazione. Tuttavia, per prima cosa, vorrei sapere se c'è qualcos'altro che puoi aggiungere su questo argomento.

Se hai bisogno di qualcosa in particolare, non esitare a chiedere!

Per favore, rispondi con un messaggio o chiedi di utilizzare uno dei tool disponibili.
2025-12-17 01:05:49 [ERROR] kmchat.cli - Errore agente: unhashable type: 'dict'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 245, in run_lite_agent
    args = data.get("arguments", {{}})
                                 ^^^^
TypeError: unhashable type: 'dict'
2025-12-17 01:07:34 [ERROR] kmchat.cli - Errore agente: unhashable type: 'dict'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 249, in run_lite_agent
    args = data.get("arguments", {{}})
                                 ^^^^
TypeError: unhashable type: 'dict'
2025-12-17 01:09:44 [ERROR] kmchat.cli - Errore agente: unhashable type: 'dict'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 255, in run_lite_agent
    args = data.get("arguments", {{}})
                                 ^^^^
TypeError: unhashable type: 'dict'
2025-12-17 01:11:29 [ERROR] kmchat.cli - Errore agente: unhashable type: 'dict'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 255, in run_lite_agent
    args = data.get("arguments", {{}})
                                 ^^^^
TypeError: unhashable type: 'dict'
2025-12-17 01:13:21 [INFO] kmchat.cli - Esecuzione tool: save_knowledge con args {'category': 'patient', 'content': 'Il paziente ha avuto un calo di zuccheri alle 10:00 in data odierna.'}
2025-12-17 01:13:22 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente ha avuto un calo di zuccheri alle 10:00 in data odierna.
2025-12-17 01:19:40 [INFO] kmchat.cli - Esecuzione tool: consult_guidelines con args {'query': 'Digiuno liquido per esami'}
2025-12-17 01:24:04 [INFO] kmchat.cli - Esecuzione tool: save_knowledge con args {'category': 'patient', 'content': 'Il paziente deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 01:24:05 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente deve stare a digiuno di liquidi per 24 ore.
2025-12-17 01:27:07 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': "Bere 2 litri d'acqua", 'description': '', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 01:30:41 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': "Bere 2 litri d'acqua", 'description': '', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 01:31:58 [WARNING] kmchat.cli - Blocco semantico attivato: SI: La nuova attività consiste nel bere 2 litri d'acqua, mentre il paziente deve stare a digiuno di liquidi per 24 ore. Questo significa che l'attività è in conflitto con uno dei vincoli del paziente.
2025-12-17 01:42:17 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 01:42:35 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Visita', 'description': 'Importante', 'days': ['Lunedì'], 'time': '08:00'}
2025-12-17 01:42:53 [INFO] kmchat.cli - Esecuzione tool: save_knowledge con args {'category': 'patient', 'content': 'Il paziente deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 01:42:54 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente deve stare a digiuno di liquidi per 24 ore.
2025-12-17 01:43:24 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': "Bere 2 litri d'acqua", 'description': '', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 01:43:27 [WARNING] kmchat.cli - Blocco semantico attivato: SI: La nuova attività consiste nel bere 2 litri d'acqua, ma il paziente deve stare a digiuno di liquidi per 24 ore. Questo significa che l'attività è in conflitto con uno dei vincoli del paziente.
2025-12-17 02:01:20 [INFO] kmchat.cli - Esecuzione tool: switch_context con args {'patient_id': 'paziente_02'}
2025-12-17 10:35:04 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 10:35:37 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Assunzione Aulin', 'description': '', 'days': ['Lunedì'], 'time': '08:30'}
2025-12-17 10:36:13 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 10:36:32 [INFO] kmchat.cli - Esecuzione tool: add_activity con args {'name': 'Assunzione Aulin', 'description': '', 'days': ['Lunedì'], 'time': '08:30'}
2025-12-17 10:40:11 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 10:40:37 [INFO] kmchat.cli - Esecuzione tool: modify_activity con args {'old_name': 'Assunzione Aulin', 'day': 'Lunedì', 'new_time': '08:30'}
2025-12-17 10:40:37 [ERROR] kmchat.cli - Errore agente: name 'DATA_FILE' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 287, in run_lite_agent
    elif tool_name == "modify_activity": tool_result = modify_activity_tool(**args)
                                                       ~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 146, in modify_activity_tool
    return km.update_activity(old_name, day, updates)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/knowledge_manager.py", line 355, in update_activity
    self.save_data()
    ~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/knowledge_manager.py", line 145, in save_data
    with open(DATA_FILE, "w") as f:
              ^^^^^^^^^
NameError: name 'DATA_FILE' is not defined. Did you mean: 'DATA_DIR'?
2025-12-17 10:41:54 [INFO] kmchat.cli - Esecuzione tool: modify_activity con args {'old_name': 'Assunzione Aulin', 'day': 'Lunedì', 'new_time': '08:30'}
2025-12-17 10:42:20 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 10:42:46 [INFO] kmchat.cli - Esecuzione tool: delete_activity con args {'name': 'Assunzione Aulin', 'day': 'Martedì'}
2025-12-17 10:43:18 [INFO] kmchat.cli - Esecuzione tool: delete_activity con args {'name': 'Esercizi cognitivi', 'day': 'Lunedì'}
2025-12-17 10:43:38 [INFO] kmchat.cli - Esecuzione tool: get_schedule con args {'day': 'Lunedì'}
2025-12-17 11:07:07 [ERROR] kmchat.cli - Err: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 218, in run_lite_agent
    data = json.loads(json_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-12-17 11:07:54 [ERROR] kmchat.cli - Err: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 220, in run_lite_agent
    data = json.loads(json_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-12-17 11:14:14 [INFO] kmchat.cli - Tool: save_knowledge Args: {}
2025-12-17 11:14:14 [ERROR] kmchat.cli - Err: save_knowledge_tool() missing 2 required positional arguments: 'category' and 'content'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 253, in run_lite_agent
    elif tname == "save_knowledge": res = save_knowledge_tool(**args)
                                          ~~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: save_knowledge_tool() missing 2 required positional arguments: 'category' and 'content'
2025-12-17 11:14:35 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'paziente_01', 'content': 'Il paziente deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 11:14:36 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente deve stare a digiuno di liquidi per 24 ore.
2025-12-17 11:15:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'note', 'content': 'Il paziente Mario Rossi deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 11:15:34 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente Mario Rossi deve stare a digiuno di liquidi per 24 ore.
2025-12-17 11:16:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'digiuno liquidi'}
2025-12-17 11:16:03 [ERROR] kmchat.cli - Err: name 'PATIENT_FILE' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 264, in run_lite_agent
    elif tname == "save_knowledge": res = save_knowledge_tool(**args)
                                          ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 83, in save_knowledge_tool
    km_result = km.save_knowledge_note(category, content)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/knowledge_manager.py", line 263, in save_knowledge_note
    with open(PATIENT_FILE, "w") as f:
              ^^^^^^^^^^^^
NameError: name 'PATIENT_FILE' is not defined
2025-12-17 11:17:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'digiuno liquidi'}
2025-12-17 11:17:10 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: digiuno liquidi
2025-12-17 11:17:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere acqua', 'description': '', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 11:18:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere molta acqua', 'description': '', 'days': ['Lunedì'], 'time': '11:00'}
2025-12-17 11:19:33 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere succo', 'description': '', 'days': ['Lunedì'], 'time': '12:00'}
2025-12-17 11:20:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere aranciata', 'description': '', 'days': ['Lunedì'], 'time': '13:00'}
2025-12-17 11:20:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere Cola', 'description': '', 'days': ['Lunedì'], 'time': '14:00'}
2025-12-17 11:21:13 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assumere sciroppo', 'description': 'Somministrazione di sciroppo per il paziente con Diabete Tipo 2', 'days': ['Lunedì'], 'time': '15:00', 'force': False}
2025-12-17 11:21:53 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assumere sciroppo', 'description': 'Somministrazione di sciroppo per il paziente con Diabete Tipo 2', 'days': ['Lunedì'], 'time': '16:00', 'force': False}
2025-12-17 11:22:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere acqua', 'description': 'Bevono acqua per mantenere idratato il paziente', 'days': ['Lunedì'], 'time': '17:00', 'force': True}
2025-12-17 11:23:39 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Il paziente soffre di vertigini gravi.'}
2025-12-17 11:23:40 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente soffre di vertigini gravi.
2025-12-17 11:24:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Riparare il tetto', 'description': '...', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 11:28:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Riposo', 'description': 'Pausa per il paziente Mario Rossi', 'days': ['Lunedì'], 'time': '09:00', 'dependencies': ['Assunzione Aulin']}
2025-12-17 11:28:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Dessert', 'description': '...', 'days': ['Lunedì'], 'time': '13:00', 'dependencies': ['Pranzo']}
2025-12-17 11:29:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura Giornale', 'description': '...', 'days': ['Lunedì'], 'time': '14:00', 'dependencies': ['Pranzo']}
2025-12-17 11:29:37 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Assunzione Aulin', 'day': 'Lunedì', 'force': True}
2025-12-17 16:28:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Protezione Stomaco', 'description': '...', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': ['Assunzione Aulin']}
2025-12-17 16:28:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Attivita B', 'description': '...', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': ['Assunzione Aulin']}
2025-12-17 16:29:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Leggere libro', 'description': '...', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': ['Assunzione Aulin']}
2025-12-17 16:29:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Cena', 'description': '...', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': ['Bere acqua']}
2025-12-17 16:30:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Riposare', 'description': '...', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': ['Bere acqua']}
2025-12-17 16:30:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Dormire', 'description': '...', 'days': ['Lunedì'], 'time': '09:00', 'dependencies': ['Bere acqua']}
2025-12-17 16:54:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'notes', 'content': 'Il paziente deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 16:54:10 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente deve stare a digiuno di liquidi per 24 ore.
2025-12-17 16:54:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'notes', 'content': 'Il paziente deve stare a digiuno di liquidi per 24 ore.'}
2025-12-17 16:54:57 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente deve stare a digiuno di liquidi per 24 ore.
2025-12-17 16:55:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Bere acqua', 'description': "Bevono un bicchiere d'acqua", 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 16:57:52 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'notes', 'content': 'Il paziente è diabetico e non può mangiare dolci.', 'subject_id': 'paziente_01'}
2025-12-17 16:57:52 [ERROR] kmchat.cli - Err: save_knowledge_tool() got an unexpected keyword argument 'subject_id'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 285, in run_lite_agent
    elif tname == "save_knowledge": res = save_knowledge_tool(**args)
                                          ~~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: save_knowledge_tool() got an unexpected keyword argument 'subject_id'
2025-12-17 16:58:51 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'notes', 'content': 'Il paziente è diabetico e non può mangiare dolci.'}
2025-12-17 16:58:51 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Il paziente è diabetico e non può mangiare dolci.
2025-12-17 16:59:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Mangiare Torta al Cioccolato', 'description': "Attività di tipo 'pasto'", 'days': ['Lunedì'], 'time': '16:00'}
2025-12-17 17:00:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Palestra', 'description': '...', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 17:00:31 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Guardare TV', 'description': '...', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 17:01:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Guardare TV', 'description': '...', 'days': ['Lunedì'], 'time': '10:00', 'force': True}
2025-12-17 17:01:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Dormire', 'description': 'Riposo notturno', 'days': ['Lunedì'], 'time': '10:00'}
2025-12-17 17:02:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'description': '...', 'days': ['Lunedì'], 'time': '13:00', 'dependencies': ['Cucinare']}
2025-12-17 17:31:38 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Deve stare a digiuno', 'day': 'Lunedì'}
2025-12-17 17:31:38 [ERROR] kmchat.cli - Err: KnowledgeManager.save_knowledge_note() got an unexpected keyword argument 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 284, in run_lite_agent
    elif tname == "save_knowledge": res = save_knowledge_tool(**args)
                                          ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 110, in save_knowledge_tool
    km_result = km.save_knowledge_note(category, content, day=day)
TypeError: KnowledgeManager.save_knowledge_note() got an unexpected keyword argument 'day'
2025-12-17 17:33:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Deve stare a digiuno', 'day': 'Lunedì'}
2025-12-17 17:33:09 [ERROR] kmchat.cli - Err: KnowledgeManager.save_knowledge_note() got an unexpected keyword argument 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 284, in run_lite_agent
    elif tname == "save_knowledge": res = save_knowledge_tool(**args)
                                          ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 110, in save_knowledge_tool
    km_result = km.save_knowledge_note(category, content, day=day)
TypeError: KnowledgeManager.save_knowledge_note() got an unexpected keyword argument 'day'
2025-12-17 17:34:29 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Deve stare a digiuno', 'day': 'Lunedì'}
2025-12-17 17:35:37 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'notes of patient paziente_01'}
2025-12-17 17:36:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Deve stare a digiuno', 'day': 'Lunedì'}
2025-12-17 17:36:25 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Deve stare a digiuno
2025-12-17 17:36:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'patient', 'content': 'Dieta libera', 'day': 'Tuesday'}
2025-12-17 17:36:57 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Dieta libera
2025-12-17 17:38:05 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'paziente_01'}
2025-12-27 15:49:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits', 'content': 'Fare una passeggiata dopo colazione', 'day': None}
2025-12-27 15:49:44 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Fare una passeggiata dopo colazione
2025-12-27 15:49:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo completo', 'description': '', 'days': ['Lunedì'], 'time': '13:00', 'dependencies': [], 'force': False}
2025-12-27 16:01:10 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Avoid sugars on Friday', 'day': 'Friday'}
2025-12-27 16:01:11 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Avoid sugars on Friday
2025-12-27 16:01:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Avoid sugars on Friday', 'day': 'Friday'}
2025-12-27 16:01:45 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Avoid sugars on Friday
2025-12-27 16:04:19 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits', 'content': 'Evita zuccheri', 'day': 'Friday'}
2025-12-27 16:04:19 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Evita zuccheri
2025-12-27 16:05:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'mattina' intendo l'intervallo 08:00-10:00", 'day': None}
2025-12-27 16:05:45 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Quando dico 'mattina' intendo l'intervallo 08:00-10:00
2025-12-27 16:05:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo Pressione', 'description': '', 'days': ['Monday'], 'time': 'morning', 'dependencies': [], 'force': False}
2025-12-27 16:25:51 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits', 'content': "Beve succo d'arancia a colazione", 'day': None}
2025-12-27 16:25:52 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Beve succo d'arancia a colazione
2025-12-27 16:26:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione Aulin', 'description': "Prendere con succo d'arancia", 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'force': False}
2025-12-27 16:26:14 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Soffre di acidità, evita gli agrumi', 'day': None}
2025-12-27 16:26:14 [INFO] kmchat.cli - Nota indicizzata in ChromaDB: Soffre di acidità, evita gli agrumi
2025-12-27 16:26:21 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'Luigi Verdi, attività lunedì 08:00'}
2025-12-28 21:10:41 [INFO] kmchat.cli - Routing: 'Ciao, come ti chiami?' -> FAST Model
2025-12-28 21:13:21 [INFO] kmchat.cli - Routing: 'Buongiorno, oggi Giuseppe Rossi si sente molto stanco e ha mal di testa.' -> FAST Model
2025-12-28 21:16:31 [INFO] kmchat.cli - Routing: 'Cosa ti ho appena detto riguardo lo stato di Giuseppe?' -> FAST Model
2025-12-28 21:18:53 [INFO] kmchat.cli - Routing: 'Analizza se, visto lo stato che ti ho descritto, è il caso di aggiungere un riposo extra oggi alle 15:00.' -> SMART Model
2026-01-06 21:12:30 [INFO] kmchat.cli - Routing: 'caregiver_01' -> FAST Model
2026-01-06 21:14:22 [INFO] kmchat.cli - Routing: 'Il paziente Giuseppe oggi ha la febbre alta, tienilo a mente.' -> FAST Model
2026-01-06 21:22:59 [INFO] kmchat.cli - Routing: 'Consulta le linee guida per la terapia del paziente' -> FAST Model
2026-01-06 21:23:15 [INFO] kmchat.cli - Routing: 'Consulta le linee guida per la terapia del paziente' -> FAST Model
2026-01-06 21:24:27 [INFO] kmchat.cli - Routing: 'Consulta le linee guida sulla terapia e riassumile' -> FAST Model
2026-01-06 21:26:53 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente e riassumile in 2-3 punti.' -> FAST Model
2026-01-06 21:35:30 [INFO] kmchat.cli - Routing: 'ciao, come va?' -> FAST Model
2026-01-06 21:37:15 [INFO] kmchat.cli - Routing: 'voglio sapere quali sono le task dei pazienti di oggi' -> FAST Model
2026-01-06 21:40:11 [INFO] kmchat.cli - Routing: 'aggiungi una terapia di Tachipirina orosolubile per Giuseppe Rossi alle 10:30 il mercoledì' -> FAST Model
2026-01-06 21:46:06 [INFO] kmchat.cli - Routing: 'dimmi le task di mercoledì quindi' -> FAST Model
2026-01-06 21:47:59 [INFO] kmchat.cli - Routing: 'e le attività del lunedì?' -> FAST Model
2026-01-06 21:50:07 [INFO] kmchat.cli - Routing: 'dimmi le task del giovedì' -> FAST Model
2026-01-06 21:59:04 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:03:02 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:04:09 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Martedì' -> FAST Model
2026-01-06 22:05:13 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Mercoledì' -> FAST Model
2026-01-06 22:06:15 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Mercoledì' -> FAST Model
2026-01-06 22:07:31 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Giovedì' -> FAST Model
2026-01-06 22:08:46 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Venerdì' -> FAST Model
2026-01-06 22:09:59 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Sabato' -> FAST Model
2026-01-06 22:11:00 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Domenica' -> FAST Model
2026-01-06 22:17:45 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:19:06 [INFO] kmchat.cli - Routing: 'Cambia contesto: paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:22:10 [INFO] kmchat.cli - Routing: 'switch_context patient_id=demo_giuseppe caregiver_id=caregiver_01' -> FAST Model
2026-01-06 22:23:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Passeggiata' lunedì alle 12:00' -> FAST Model
2026-01-06 22:24:25 [INFO] kmchat.cli - Routing: 'Rispondi SOLO con JSON esatto per chiamare tool get_schedule: {"action": "get_schedule", "day": "Lunedì"}' -> FAST Model
2026-01-06 22:25:39 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 22:32:19 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:33:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:33:45 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:34:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì', 'schedule': []}
2026-01-06 22:34:57 [ERROR] kmchat.cli - Err: get_schedule_tool() got an unexpected keyword argument 'schedule'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 421, in run_agent_step
    if tname == "get_schedule": res = get_schedule_tool(**args)
                                      ~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: get_schedule_tool() got an unexpected keyword argument 'schedule'
2026-01-06 22:34:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00' -> FAST Model
2026-01-06 22:36:29 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:37:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:37:12 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:37:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì', 'schedule': []}
2026-01-06 22:37:53 [ERROR] kmchat.cli - Err: get_schedule_tool() got an unexpected keyword argument 'schedule'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 421, in run_agent_step
    if tname == "get_schedule": res = get_schedule_tool(**args)
                                      ~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: get_schedule_tool() got an unexpected keyword argument 'schedule'
2026-01-06 22:37:53 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00' -> FAST Model
2026-01-06 22:39:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Passeggiata', 'description': '', 'days': ['lunedì'], 'time': 12, 'dependencies': [], 'force': False}
2026-01-06 22:41:15 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:41:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:41:57 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:43:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 22:44:06 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:45:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:45:40 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:48:18 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:49:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:49:51 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:51:38 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Luned\\u00f8)\\"]}"'}
2026-01-06 22:53:01 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:53:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:54:05 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 22:54:55 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 22:55:35 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 22:56:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 22:56:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00' -> FAST Model
2026-01-06 22:57:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Passeggiata', 'description': 'Passeggiata', 'days': ['lunedì'], 'time': '12:00', 'dependencies': [], 'force': False}
2026-01-06 22:58:40 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 22:59:48 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Passeggiata', 'day': 'lunedè', 'new_name': 'Passeggiata', 'new_description': '', 'new_time': '13:00:00', 'force': False}
2026-01-06 23:02:49 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:03:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:04:04 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:04:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:05:33 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:06:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:06:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-06 23:08:24 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Passeggiata', 'description': 'Passeggiata', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'force': True}
2026-01-06 23:08:29 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 23:11:53 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:13:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:13:27 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 23:14:39 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Passeggiata', 'day': 'Lunedì', 'new_name': 'Passeggiata', 'new_description': '', 'new_time': '13:00', 'force': False}
2026-01-06 23:15:27 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:16:20 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:18:55 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:20:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:20:35 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 23:21:48 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Passeggiata', 'day': 'Lunedì', 'new_name': 'Passeggiata', 'new_description': '', 'new_time': '13:00', 'force': False}
2026-01-06 23:22:03 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:23:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:23:45 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente paziente_02 e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:24:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paziente_02', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:24:50 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:25:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:26:18 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-06 23:28:02 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'terapia del paziente'}
2026-01-06 23:29:18 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-06 23:30:33 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'terapia del paziente'}
2026-01-06 23:42:45 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:43:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:44:06 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:45:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:46:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-06 23:48:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Passeggiata', 'description': 'Passeggiata', 'days': ['Lunedì'], 'time': '120:00', 'dependencies': [], 'force': True}
2026-01-06 23:48:22 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-06 23:49:41 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Passeggiata', 'day': 'Lunedì', 'new_name': 'Passeggiata', 'new_description': '', 'new_time': '13:00', 'force': False}
2026-01-06 23:49:55 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:51:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:52:16 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-06 23:53:24 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'terapia del paziente'}
2026-01-06 23:53:38 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente paziente_02 e caregiver caregiver_01.' -> FAST Model
2026-01-06 23:54:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paziente_02', 'caregiver_id': 'caregiver_01'}
2026-01-06 23:54:34 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:55:06 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-06 23:56:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-06 23:57:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività Riabilitazione lunedì alle 07:00 dipende da Chirurgia' -> FAST Model
2026-01-06 23:58:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Riabilitazione', 'description': 'Riabilitazione', 'days': ['lunedè'], 'time': '07:00', 'dependencies': ['Chirurgia'], 'force': False}
2026-01-06 23:59:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività Controllo pressione lunedì alle 09:00' -> FAST Model
2026-01-07 00:00:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione lunedì alle 09:00', 'description': 'Controllo pressione lunedì alle 09:00', 'days': ['Lunedì'], 'time': '09:00', 'dependencies': [], 'force': False}
2026-01-07 00:01:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività Controllo pressione lunedì alle 09:00' -> FAST Model
2026-01-07 00:02:21 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione lunedì alle 09:00', 'description': 'Controllo pressione lunedì alle 09:00', 'days': ['Lunedì'], 'time': '09:00', 'dependencies': [], 'force': False}
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente paziente_02 e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività Riabilitazione lunedì alle 07:00 dipende da Chirurgia' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:23:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività Controllo pressione lunedì alle 09:00' -> FAST Model
2026-01-07 12:23:10 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente paziente_02 e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività Riabilitazione lunedì alle 07:00 dipende da Chirurgia' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:32:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività Controllo pressione lunedì alle 09:00' -> FAST Model
2026-01-07 12:32:41 [ERROR] kmchat.cli - Err: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 837, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 452, in gen
    options=self._model_kwargs,
            ^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 211, in _model_kwargs
    "num_ctx": self.get_context_window(),
               ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 221, in get_context_window
    info = self.client.show(self.model).modelinfo
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 636, in show
    return self._request(
           ~~~~~~~~~~~~~^
      ShowResponse,
      ^^^^^^^^^^^^^
    ...<4 lines>...
      ).model_dump(exclude_none=True),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 189, in _request
    return cls(**self._request_raw(*args, **kwargs).json())
                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 135, in _request_raw
    raise ConnectionError(CONNECTION_ERROR_MESSAGE) from None
ConnectionError: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2026-01-07 12:36:48 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:39:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 12:40:09 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:43:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 12:44:16 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-07 12:46:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Passeggiata', 'description': 'Passeggiata', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'force': True}
2026-01-07 12:46:17 [INFO] kmchat.cli - Routing: 'Modifica l'attività Passeggiata di lunedì: spostala alle 13:00' -> FAST Model
2026-01-07 12:48:07 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Passeggiata', 'day': 'Lunedì', 'new_name': 'Passeggiata', 'new_description': '', 'new_time': '13:00', 'force': False}
2026-01-07 12:48:11 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:49:33 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:51:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 12:51:52 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 12:54:32 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 12:55:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività Passeggiata lunedì alle 12:00 con force=True' -> FAST Model
2026-01-07 12:58:14 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 12:59:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 12:59:29 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:02:01 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:03:44 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 13:03:56 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:04:24 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:05:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 13:05:54 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:08:40 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:09:49 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:10:50 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:12:34 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:14:22 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:14:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 13:15:35 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:15:39 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-07 13:33:34 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:35:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 13:36:09 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:36:22 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:46:00 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:46:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'demo_giuseppe', 'caregiver_id': 'caregiver_01'}
2026-01-07 13:47:13 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:47:28 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 13:48:28 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 840, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 13:48:30 [INFO] kmchat.cli - Routing: 'Mostrami le attività di Lunedì' -> FAST Model
2026-01-07 13:48:38 [INFO] kmchat.cli - Routing: 'Il paziente ha diabete' -> FAST Model
2026-01-07 13:49:38 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 840, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 13:49:40 [INFO] kmchat.cli - Routing: 'Consulta le linee guida della terapia del paziente' -> FAST Model
2026-01-07 13:49:49 [INFO] kmchat.cli - Routing: 'Il paziente ha diabete' -> FAST Model
2026-01-07 13:49:50 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 13:50:31 [INFO] kmchat.cli - Routing: 'Il paziente ha diabete' -> FAST Model
2026-01-07 13:50:50 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 840, in run_agent_step
    response_gen = selected_llm.stream_complete(prompt)
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 13:51:31 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 842, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 13:55:06 [INFO] kmchat.cli - Routing: 'Il paziente ha diabete' -> FAST Model
2026-01-07 13:55:21 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'diabete', 'confirm': False}
2026-01-07 13:55:54 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 14:04:11 [INFO] kmchat.cli - Routing: 'Il paziente ha diabete' -> FAST Model
2026-01-07 14:04:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'diabete', 'confirm': False}
2026-01-07 16:01:43 [INFO] kmchat.cli - Routing: 'Cambia contesto su paziente demo_giuseppe e caregiver caregiver_01.' -> FAST Model
2026-01-07 21:10:57 [INFO] kmchat.cli - Routing: 'cosa deve fare il paziente il lunedi?' -> FAST Model
2026-01-07 21:11:28 [INFO] kmchat.cli - Tool: consult_guidelines Args: {}
2026-01-07 21:11:28 [ERROR] kmchat.cli - Err: consult_guidelines_tool() missing 1 required positional argument: 'query'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 882, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 578, in _execute_tool
    return consult_guidelines_tool(**args)
TypeError: consult_guidelines_tool() missing 1 required positional argument: 'query'
2026-01-07 21:12:34 [INFO] kmchat.cli - Routing: 'cosa deve fare il paziente il lunedi? ' -> FAST Model
2026-01-07 21:12:50 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'cosa deve fare il paziente il lunedi? '}
2026-01-07 21:13:17 [INFO] kmchat.cli - Routing: 'quale paziente?' -> FAST Model
2026-01-07 21:13:40 [INFO] kmchat.cli - Routing: 'qual è il nome del paziente?' -> FAST Model
2026-01-07 21:14:19 [INFO] kmchat.cli - Routing: 'che attività ha programmate il paziente per mercoledi?' -> FAST Model
2026-01-07 21:14:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-07 21:15:10 [INFO] kmchat.cli - Routing: 'passa al paziente Luigi Verdi' -> FAST Model
2026-01-07 21:15:35 [INFO] kmchat.cli - Tool: get_schedule Args: {}
2026-01-07 21:15:35 [ERROR] kmchat.cli - Err: get_schedule_tool() missing 1 required positional argument: 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 885, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 573, in _execute_tool
    return get_schedule_tool(**args)
TypeError: get_schedule_tool() missing 1 required positional argument: 'day'
2026-01-07 21:15:59 [INFO] kmchat.cli - Routing: 'dimmi cosa deve fare il paziente Luigi Verdi il lunedi' -> FAST Model
2026-01-07 21:16:29 [INFO] kmchat.cli - Routing: 'Quale attività deve fare il paziente Luigi Verdi il lunedì' -> FAST Model
2026-01-07 21:16:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 21:25:27 [INFO] kmchat.cli - Routing: 'cosa deve fare luigi verdi il lunedi?' -> FAST Model
2026-01-07 21:25:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 21:26:05 [INFO] kmchat.cli - Routing: 'quali sono le attività di luigi per lunedi?' -> FAST Model
2026-01-07 21:26:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 21:41:21 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 21:43:18 [INFO] kmchat.cli - Tool: get_schedule Args: {}
2026-01-07 21:43:18 [ERROR] kmchat.cli - Err: get_schedule_tool() missing 1 required positional argument: 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 941, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 606, in _execute_tool
    return get_schedule_tool(**args)
TypeError: get_schedule_tool() missing 1 required positional argument: 'day'
2026-01-07 21:43:33 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 21:44:08 [INFO] kmchat.cli - Tool: get_schedule Args: {}
2026-01-07 21:44:08 [ERROR] kmchat.cli - Err: get_schedule_tool() missing 1 required positional argument: 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 941, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 606, in _execute_tool
    return get_schedule_tool(**args)
TypeError: get_schedule_tool() missing 1 required positional argument: 'day'
2026-01-07 21:45:45 [INFO] kmchat.cli - Routing: ' ~/Documents/Uni/Digital Transformation/FinalProject/KMChat  main !24 ?38               INT  base py | 3.11  py  21:31:48 ' -> FAST Model
2026-01-07 21:45:55 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 21:46:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'alessandro', 'caregiver_id': 'andrea_01'}
2026-01-07 21:46:54 [INFO] kmchat.cli - Routing: 'no, io sono andrea e voglio passare al paziente alessandro' -> FAST Model
2026-01-07 21:48:40 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro e dimmi le attività di mercoledì' -> FAST Model
2026-01-07 21:50:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'alessandro e dimmi le attivita di mercoledi', 'caregiver_id': 'andrea_01'}
2026-01-07 21:50:56 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro e dimmi le attività di mercoledì' -> FAST Model
2026-01-07 21:51:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'alessandro e dimmi le attivita di mercoledi', 'caregiver_id': 'andrea_01'}
2026-01-07 21:52:46 [INFO] kmchat.cli - Routing: 'passa al paziente Federico e dimmi le attività di tutta la settimana' -> FAST Model
2026-01-07 21:53:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-07 22:30:01 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 22:34:50 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Alessandro', 'caregiver_id': 'andrea_01'}
2026-01-07 22:35:18 [INFO] kmchat.cli - Routing: 'dimmi le attività' -> FAST Model
2026-01-07 22:45:26 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 22:46:27 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 956, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 22:46:40 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-07 22:55:01 [INFO] kmchat.cli - Routing: 'Passa al paziente Alessandro' -> FAST Model
2026-01-07 23:00:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Alessandro', 'caregiver_id': 'andrea_01'}
2026-01-07 23:00:58 [INFO] kmchat.cli - Routing: 'Cosa deve fare oggi?' -> FAST Model
2026-01-07 23:05:35 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'oggi'}
2026-01-07 23:08:40 [INFO] kmchat.cli - Routing: 'Cosa deve fare oggi?' -> FAST Model
2026-01-07 23:14:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-07 23:15:53 [INFO] kmchat.cli - Routing: 'cosa deve fare Alessandro mercoledi?' -> FAST Model
2026-01-07 23:19:32 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-07 23:19:55 [INFO] kmchat.cli - Routing: 'Cosa deve fare Lunedì?' -> FAST Model
2026-01-07 23:24:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-07 23:26:24 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-07 23:27:25 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 960, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 23:31:53 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-07 23:34:42 [ERROR] kmchat.cli - Err: peer closed connection without sending complete message body (incomplete chunked read)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 127, in __iter__
    for part in self._httpcore_stream:
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 407, in __iter__
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 403, in __iter__
    for part in self._stream:
                ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 342, in __iter__
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 334, in __iter__
    for chunk in self._connection._receive_response_body(**kwargs):
                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 203, in _receive_response_body
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 213, in _receive_event
    with map_exceptions({h11.RemoteProtocolError: RemoteProtocolError}):
         ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.RemoteProtocolError: peer closed connection without sending complete message body (incomplete chunked read)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 960, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 181, in inner
    for line in r.iter_lines():
                ~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 929, in iter_lines
    for text in self.iter_text():
                ~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 916, in iter_text
    for byte_content in self.iter_bytes():
                        ~~~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 897, in iter_bytes
    for raw_bytes in self.iter_raw():
                     ~~~~~~~~~~~~~^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_models.py", line 951, in iter_raw
    for raw_stream_bytes in self.stream:
                            ^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 153, in __iter__
    for chunk in self._stream:
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 126, in __iter__
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: peer closed connection without sending complete message body (incomplete chunked read)
2026-01-07 23:48:01 [INFO] kmchat.cli - Routing: 'Passa al paziente Federico' -> FAST Model
2026-01-07 23:49:02 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 960, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-07 23:50:06 [INFO] kmchat.cli - Routing: 'Passa al paziente Federico ' -> FAST Model
2026-01-07 23:54:07 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-07 23:58:01 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Federico', 'caregiver_id': 'nome_caregiver'}
2026-01-07 23:59:59 [INFO] kmchat.cli - Routing: 'dimmi le attivita di lunedì' -> FAST Model
2026-01-08 00:03:09 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 00:04:10 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 960, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-08 00:05:12 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 00:07:30 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 00:08:31 [ERROR] kmchat.cli - Err: timed out
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 136, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/http11.py", line 217, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 960, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
2026-01-08 00:09:31 [INFO] kmchat.cli - Routing: 'ciao' -> FAST Model
2026-01-08 00:09:52 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 00:10:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Federico', 'caregiver_id': 'nome_caregiver'}
2026-01-08 00:10:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di federico per lunedì' -> FAST Model
2026-01-08 00:10:29 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:11:37 [INFO] kmchat.cli - Routing: 'aggiungi a luendì anche guardare Film d'Azione alle 21' -> FAST Model
2026-01-08 00:13:07 [INFO] kmchat.cli - Routing: 'aggiungi attività Pranzo alle 12 dal lunedì al venerdì' -> FAST Model
2026-01-08 00:13:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:15:36 [INFO] kmchat.cli - Routing: 'quindi dimmi le attività del mercoledì' -> FAST Model
2026-01-08 00:15:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 00:16:21 [INFO] kmchat.cli - Routing: 'dimmi le attività del lunedì' -> FAST Model
2026-01-08 00:16:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:20:06 [INFO] kmchat.cli - Routing: 'aggiungi attività Pranzo il lunedì alle 12:00' -> FAST Model
2026-01-08 00:20:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo il', 'description': 'Pranzo il', 'days': ['Lunedì'], 'time': '12:00', 'force': False, 'dependencies': []}
2026-01-08 00:20:31 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 00:21:01 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 00:21:21 [INFO] kmchat.cli - Routing: 'quindi dimmi le attività di lunedì' -> FAST Model
2026-01-08 00:21:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:23:13 [INFO] kmchat.cli - Routing: 'Chi è il paziente corrente?' -> FAST Model
2026-01-08 00:23:49 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 00:24:27 [INFO] kmchat.cli - Routing: 'Chi è il paziente corrente?' -> FAST Model
2026-01-08 00:24:47 [INFO] kmchat.cli - Routing: 'passa al paziente Federico' -> FAST Model
2026-01-08 00:25:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Federico', 'caregiver_id': 'andrea_01'}
2026-01-08 00:25:12 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 00:25:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:25:40 [INFO] kmchat.cli - Routing: 'aggiungi "Pranzo" alle ore 12:00 di Lunedì' -> FAST Model
2026-01-08 00:26:49 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 00:27:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:28:57 [INFO] kmchat.cli - Routing: 'Passa a Federico' -> FAST Model
2026-01-08 00:29:03 [INFO] kmchat.cli - Routing: 'Passa a Federico' -> FAST Model
2026-01-08 00:29:04 [INFO] kmchat.cli - Routing: 'Passa a Federico' -> FAST Model
2026-01-08 00:32:56 [INFO] kmchat.cli - Routing: 'passa al paziente Federico' -> FAST Model
2026-01-08 00:33:55 [INFO] kmchat.cli - Routing: 'passa al paziente Federico' -> FAST Model
2026-01-08 00:34:11 [INFO] kmchat.cli - Routing: 'passa al paziente Federico' -> FAST Model
2026-01-08 00:34:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'federico', 'caregiver_id': 'andrea_01'}
2026-01-08 00:41:05 [INFO] kmchat.cli - Routing: 'Passa al paziente Federico' -> FAST Model
2026-01-08 00:41:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'federico', 'caregiver_id': 'andrea_01'}
2026-01-08 00:41:46 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'TestAutomato' lunedì alle 10:00' -> FAST Model
2026-01-08 00:41:58 [ERROR] kmchat.cli - Err: name '_normalize_time_value' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 951, in run_agent_step
    args = _sanitize_tool_args(tname, args, user_input=user_input)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 333, in _sanitize_tool_args
    filtered["time"] = _normalize_time_value(filtered.get("time"))
                       ^^^^^^^^^^^^^^^^^^^^^
NameError: name '_normalize_time_value' is not defined. Did you mean: '_normalize_day_value'?
2026-01-08 00:42:01 [INFO] kmchat.cli - Routing: 'Passa al paziente Federico' -> FAST Model
2026-01-08 00:48:21 [INFO] kmchat.cli - Routing: 'ciao' -> FAST Model
2026-01-08 00:48:32 [ERROR] kmchat.cli - Err: name '_parse_action_string' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 928, in run_agent_step
    data = _extract_json_object(full_text) or _parse_action_string(full_text)
                                              ^^^^^^^^^^^^^^^^^^^^
NameError: name '_parse_action_string' is not defined
2026-01-08 00:48:36 [INFO] kmchat.cli - Routing: 'ciao' -> FAST Model
2026-01-08 00:48:41 [ERROR] kmchat.cli - Err: name '_parse_action_string' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 928, in run_agent_step
    data = _extract_json_object(full_text) or _parse_action_string(full_text)
                                              ^^^^^^^^^^^^^^^^^^^^
NameError: name '_parse_action_string' is not defined
2026-01-08 00:49:50 [INFO] kmchat.cli - Routing: 'ciao' -> FAST Model
2026-01-08 00:52:38 [INFO] kmchat.cli - Routing: 'ciaop' -> FAST Model
2026-01-08 00:53:06 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'description': 'Colazione leggera per il paziente Federico', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'force': False, 'valid_from': None, 'valid_until': None, 'duration_days': None}
2026-01-08 00:53:19 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 00:54:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'TestAutomato', 'description': 'Attività di test per il paziente Federico', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'force': False, 'valid_from': None, 'valid_until': None, 'duration_days': None}
2026-01-08 00:54:40 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 00:54:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 00:55:34 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Pranzo' lunedì alle 12:00' -> FAST Model
2026-01-08 00:55:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'description': 'Colazione leggera per il paziente Alessandro', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'force': False, 'valid_from': None, 'valid_until': None, 'duration_days': None}
2026-01-08 00:55:57 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 00:58:43 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Pranzo' lunedì alle 12:00' -> FAST Model
2026-01-08 00:58:54 [INFO] kmchat.cli - Tool: add_activity Args: {'days': ['Lunedì'], 'dependencies': [], 'time': None, 'description': ''}
2026-01-08 00:58:54 [ERROR] kmchat.cli - Err: add_activity_tool() missing 1 required positional argument: 'name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1065, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 694, in _execute_tool
    return add_activity_tool(**args)
TypeError: add_activity_tool() missing 1 required positional argument: 'name'
2026-01-08 00:59:01 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Pranzo' lunedì alle 12:00' -> FAST Model
2026-01-08 00:59:12 [INFO] kmchat.cli - Tool: add_activity Args: {'days': ['Lunedì'], 'dependencies': [], 'time': None, 'description': ''}
2026-01-08 00:59:12 [ERROR] kmchat.cli - Err: add_activity_tool() missing 1 required positional argument: 'name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1065, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 694, in _execute_tool
    return add_activity_tool(**args)
TypeError: add_activity_tool() missing 1 required positional argument: 'name'
2026-01-08 01:00:10 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Pranzo' lunedì alle 12:00' -> FAST Model
2026-01-08 01:00:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'description': 'Pranzo', 'time': '12:00', 'days': ['Lunedì'], 'force': False, 'dependencies': []}
2026-01-08 01:05:40 [INFO] kmchat.cli - Routing: 'Ricorda che Alessandro odia il rumore forte' -> FAST Model
2026-01-08 01:06:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Pranzo'}
2026-01-08 01:06:14 [INFO] kmchat.cli - Routing: 'Il paziente non può mangiare zuccheri' -> FAST Model
2026-01-08 01:06:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pranzo', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Pranzo'}
2026-01-08 01:06:58 [INFO] kmchat.cli - Routing: 'Il paziente non può mangiare zuccheri' -> FAST Model
2026-01-08 01:07:42 [INFO] kmchat.cli - Routing: 'Il paziente non può mangiare zuccheri' -> FAST Model
2026-01-08 01:08:08 [INFO] kmchat.cli - Tool: modify_activity Args: {}
2026-01-08 01:08:08 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 2 required positional arguments: 'old_name' and 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1092, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 696, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 2 required positional arguments: 'old_name' and 'day'
2026-01-08 01:08:29 [INFO] kmchat.cli - Routing: 'Il paziente non può mangiare zuccheri' -> FAST Model
2026-01-08 01:08:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'non può mangiare zuccheri', 'confirm': False}
2026-01-08 01:12:37 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 01:12:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Monday'}
2026-01-08 01:13:17 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Videogames? alle 10:00 di Lunedì' -> FAST Model
2026-01-08 01:13:28 [INFO] kmchat.cli - Tool: add_activity Args: {'days': ['Lunedì'], 'dependencies': [], 'time': None, 'description': ''}
2026-01-08 01:13:28 [ERROR] kmchat.cli - Err: add_activity_tool() missing 1 required positional argument: 'name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1101, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 703, in _execute_tool
    return add_activity_tool(**args)
TypeError: add_activity_tool() missing 1 required positional argument: 'name'
2026-01-08 01:13:50 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Videogames' Lunedì alle 20:00' -> FAST Model
2026-01-08 01:14:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Videogames', 'description': 'Videogames', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:14:10 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 01:14:28 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 01:14:46 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì ' -> FAST Model
2026-01-08 01:14:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Monday'}
2026-01-08 01:16:27 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Videogames' Lunedì alle 20:00' -> FAST Model
2026-01-08 01:16:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Videogames', 'description': 'Videogames', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:16:48 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 01:17:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Monday'}
2026-01-08 01:17:15 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 01:17:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Monday'}
2026-01-08 01:18:59 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Cena' lunedì alle 20:00' -> FAST Model
2026-01-08 01:19:06 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Cena' lunedì alle 20:00' -> FAST Model
2026-01-08 01:20:54 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Cena' lunedì alle 20:00' -> FAST Model
2026-01-08 01:20:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Cena', 'description': 'Cena', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:21:05 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 01:21:05 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 01:21:18 [INFO] kmchat.cli - Routing: 'ora dimmi le attività di lunedì' -> FAST Model
2026-01-08 01:21:18 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 01:21:35 [INFO] kmchat.cli - Routing: 'aggiungi attività Film alle 20:00' -> FAST Model
2026-01-08 01:21:52 [INFO] kmchat.cli - Tool: add_activity Args: {'days': [], 'dependencies': [], 'time': None, 'description': ''}
2026-01-08 01:21:52 [ERROR] kmchat.cli - Err: add_activity_tool() missing 1 required positional argument: 'name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1117, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 710, in _execute_tool
    return add_activity_tool(**args)
TypeError: add_activity_tool() missing 1 required positional argument: 'name'
2026-01-08 01:22:20 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Film' lunedì alle 20:00' -> FAST Model
2026-01-08 01:22:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Film', 'description': 'Film', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:22:25 [INFO] kmchat.cli - Routing: 'no' -> FAST Model
2026-01-08 01:26:22 [INFO] kmchat.cli - Routing: 'aggiungi attività Film lunedì alle 20:00' -> FAST Model
2026-01-08 01:26:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Film', 'description': 'Film', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:28:56 [INFO] kmchat.cli - Routing: 'aggiungi attività Film lunedì alle 20:00' -> FAST Model
2026-01-08 01:28:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Film', 'description': 'Film', 'days': ['Lunedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:29:13 [INFO] kmchat.cli - Routing: 'no' -> FAST Model
2026-01-08 01:29:13 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 01:29:25 [INFO] kmchat.cli - Routing: 'annulla' -> FAST Model
2026-01-08 01:29:25 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 01:29:54 [INFO] kmchat.cli - Routing: 'attività di lunedì' -> FAST Model
2026-01-08 01:29:54 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 01:30:05 [INFO] kmchat.cli - Routing: 'attività di martedì' -> FAST Model
2026-01-08 01:30:05 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:30:26 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Cena' per Martedì' -> FAST Model
2026-01-08 01:30:26 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:30:50 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Cena' per Martedì alle 20:00' -> FAST Model
2026-01-08 01:30:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': "Cena' per", 'description': "Cena' per", 'days': ['Martedì'], 'time': '20:00', 'force': False, 'dependencies': []}
2026-01-08 01:31:03 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 01:31:03 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 01:31:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 01:31:19 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:31:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Film' con dipendenza 'Cena' alle 21:00 di Martedì' -> FAST Model
2026-01-08 01:31:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:32:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Film' con dipendenza 'Cena' alle 21:00 di Martedì' -> FAST Model
2026-01-08 01:32:04 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:32:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Film' con dipendenza 'Cena' alle 21:00 di Martedì' -> FAST Model
2026-01-08 01:32:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:32:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Film' con dipendenza 'Cena' aMartedì alle 322:00' -> FAST Model
2026-01-08 01:33:03 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Film' con dipendenza 'Cena' Martedì alle 22:00' -> FAST Model
2026-01-08 01:33:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': "Film' con dipendenza 'Cena", 'description': "Film' con dipendenza 'Cena", 'days': ['Martedì'], 'time': '22:00', 'force': False, 'dependencies': []}
2026-01-08 01:33:31 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:40 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:45 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:47 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:48 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:51 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:53 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:54 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:54 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:33:55 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:33:55 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:35:27 [INFO] kmchat.cli - Routing: 'quando dico mattina intendo tra le 7:00 e le 11:00' -> FAST Model
2026-01-08 01:35:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'quando dico mattina intendo tra le 7:00 e le 11:00', 'confirm': False}
2026-01-08 01:35:43 [INFO] kmchat.cli - Routing: 'intendo tra le 7:00 e le 11:00' -> FAST Model
2026-01-08 01:36:35 [INFO] kmchat.cli - Routing: 'dimmi che orario intendo per mattina' -> FAST Model
2026-01-08 01:37:17 [INFO] kmchat.cli - Routing: 'aggiungi attività "Relax" il giovedì mattina' -> FAST Model
2026-01-08 01:37:17 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 01:37:24 [INFO] kmchat.cli - Routing: 'aggiungi attività "Relax" il giovedì mattina' -> FAST Model
2026-01-08 01:37:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 01:37:31 [INFO] kmchat.cli - Routing: 'aggiungi attività "Relax" il giovedì mattina' -> FAST Model
2026-01-08 01:37:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 01:37:34 [INFO] kmchat.cli - Routing: 'aggiungi attività "Relax" il giovedì mattina' -> FAST Model
2026-01-08 01:37:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 01:37:55 [INFO] kmchat.cli - Routing: 'aggiungi attività Film con dipendenza Cena Martedì alle 22:00' -> FAST Model
2026-01-08 01:37:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Film', 'description': 'Film', 'days': ['Martedì'], 'time': '22:00', 'force': False, 'dependencies': ['Cena']}
2026-01-08 01:38:10 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 01:38:10 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 01:38:27 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:38:27 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:38:52 [INFO] kmchat.cli - Routing: 'elimina attività cena il martedì' -> FAST Model
2026-01-08 01:38:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:39:01 [INFO] kmchat.cli - Routing: 'togli attività cena il martedì' -> FAST Model
2026-01-08 01:39:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:39:19 [INFO] kmchat.cli - Routing: 'forza rimozione di attività 'Cena' il martedì' -> FAST Model
2026-01-08 01:39:19 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:42:59 [INFO] kmchat.cli - Routing: ' aggiungi attività Film con dipendenza Cena Martedì alle 22:00' -> FAST Model
2026-01-08 01:43:01 [INFO] kmchat.cli - Routing: 'aggiungi attività Film con dipendenza Cena Martedì alle 22:00' -> FAST Model
2026-01-08 01:44:32 [INFO] kmchat.cli - Routing: ' aggiungi attività Film con dipendenza Cena Martedì alle 22:00' -> FAST Model
2026-01-08 01:45:21 [INFO] kmchat.cli - Routing: 'ci sono attività per martedì?' -> FAST Model
2026-01-08 01:45:28 [ERROR] kmchat.cli - Err: name 'heuristic_data' is not defined
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1154, in run_agent_step
    if heuristic_data and heuristic_data.get("tool_name") == tname:
       ^^^^^^^^^^^^^^
NameError: name 'heuristic_data' is not defined
2026-01-08 01:48:18 [INFO] kmchat.cli - Routing: 'dimmi le attività di martedì' -> FAST Model
2026-01-08 01:48:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 01:48:54 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 01:49:09 [INFO] kmchat.cli - Tool: switch_context Args: {'caregiver_id': 'andrea_01'}
2026-01-08 01:49:26 [INFO] kmchat.cli - Routing: 'passa al paziente Federico' -> FAST Model
2026-01-08 01:49:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'federico', 'caregiver_id': 'andrea_01'}
2026-01-08 01:49:58 [INFO] kmchat.cli - Routing: 'dimmi le attività di lunedì' -> FAST Model
2026-01-08 01:50:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 01:50:41 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Pisolino' Lunedì alle 8:30' -> FAST Model
2026-01-08 01:50:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pisolino', 'days': ['Lunedì'], 'time': '08:30', 'dependencies': [], 'description': 'Pisolino'}
2026-01-08 01:51:15 [INFO] kmchat.cli - Routing: 'annulla' -> FAST Model
2026-01-08 01:51:30 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 01:52:17 [INFO] kmchat.cli - Routing: 'quando dico Tachipirina intendo quella orosolubile' -> FAST Model
2026-01-08 01:52:35 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Tachipirina = orosolubile'}
2026-01-08 01:53:00 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-08 01:53:31 [INFO] kmchat.cli - Routing: 'passa al paziente Alessandro' -> FAST Model
2026-01-08 01:55:42 [INFO] kmchat.cli - Routing: ' passa al paziente Alessandro' -> FAST Model
2026-01-08 01:56:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività "Colazione zuccherata" Mercoledì alle 10:00' -> FAST Model
2026-01-08 01:56:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione zuccherata', 'days': ['Mercoledì'], 'time': '10:00', 'dependencies': [], 'description': 'Colazione zuccherata'}
2026-01-08 01:57:16 [INFO] kmchat.cli - Routing: 'annulla' -> FAST Model
2026-01-08 01:57:34 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 01:57:38 [INFO] kmchat.cli - Routing: 'quali sono le condizioni mediche di Alessandro?' -> FAST Model
2026-01-08 01:58:13 [INFO] kmchat.cli - Routing: 'quali sono le condizioni mediche di Alessandro?' -> FAST Model
2026-01-08 01:58:58 [INFO] kmchat.cli - Routing: 'aggiungi attività "Ginnastica" Giovedì alle 16:00 ' -> FAST Model
2026-01-08 01:59:44 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 02:00:23 [INFO] kmchat.cli - Routing: 'quali attività ci sono giovedì?' -> FAST Model
2026-01-08 02:02:24 [INFO] kmchat.cli - Routing: 'Quando dico 'mattina presto' intendo le ore 06:00.' -> FAST Model
2026-01-08 02:03:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Sveglia' lunedì di mattina presto.' -> FAST Model
2026-01-08 02:04:11 [INFO] kmchat.cli - Routing: 'Dimmi il programma di tutta la settimana.' -> FAST Model
2026-01-08 02:06:34 [INFO] kmchat.cli - Routing: 'il paziente odia il rumore, quindi conviene dargli delle cuffie con cancellazione del rumore' -> FAST Model
2026-01-08 02:08:17 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Dotazione di cuffie con cancellazione  attiva del rumore' ' -> FAST Model
2026-01-08 02:09:11 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Dotazione di cuffie con cancellazione attiva del rumore', il paziente odia il rumore' -> SMART Model
2026-01-08 02:14:09 [INFO] kmchat.cli - Routing: 'aggiungi attività "Ginnastica" per giovedì alle 18:00, forza l'aggiunta' -> FAST Model
2026-01-08 02:15:16 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Ginnastica riabilitativa' il Giovedì alle 18:00' -> FAST Model
2026-01-08 02:16:32 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Fisioterapia riabilitativa' il Giovedì alle 18:00' -> FAST Model
2026-01-08 02:19:38 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Fisioterapia riabilitativa' il Giovedì alle 18:00, devi forzare l'inserimento dell'attività' -> FAST Model
2026-01-08 02:20:15 [INFO] kmchat.cli - Routing: 'passa a Federico' -> FAST Model
2026-01-08 02:20:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Federico', 'caregiver_id': 'andrea_01'}
2026-01-08 02:20:59 [INFO] kmchat.cli - Routing: 'forza l'aggiunta di 'Fisioterapia riabilitativa' il Giovedì alle 18:00' -> FAST Model
2026-01-08 02:22:55 [INFO] kmchat.cli - Routing: 'il medico ha prescritto la fisioterapia riabilitativa, forza l'aggiunta di 'Fisioterapia riabilitativa' il Giovedì alle 18:00' -> SMART Model
2026-01-08 02:23:11 [INFO] kmchat.cli - Tool: ask_question Args: {}
2026-01-08 02:23:23 [INFO] kmchat.cli - Routing: 'il medico ha prescritto la fisioterapia riabilitativa, forza l'aggiunta di 'Fisioterapia riabilitativa' il Giovedì alle 18:00' -> SMART Model
2026-01-08 02:23:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia riabilitativa', 'days': ['Giovedì'], 'time': '18:00', 'dependencies': [], 'description': 'Fisioterapia riabilitativa'}
2026-01-08 02:24:01 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 02:24:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia riabilitativa', 'days': ['Giovedì'], 'time': '18:00', 'force': True, 'dependencies': [], 'description': 'Fisioterapia riabilitativa'}
2026-01-08 09:38:58 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' oggi dalle 10:00 alle 11:00.' -> FAST Model
2026-01-08 09:40:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita infermieristica' oggi dalle 10:30 alle 11:00.' -> FAST Model
2026-01-08 09:45:03 [INFO] kmchat.cli - Routing: 'dimmi le attività previste per giovedì' -> FAST Model
2026-01-08 09:45:20 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 09:46:19 [INFO] kmchat.cli - Routing: 'aggiungi attività 'Camminata' Giovedì alle 11:00' -> FAST Model
2026-01-08 09:46:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Giovedì'], 'time': '11:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 09:46:47 [INFO] kmchat.cli - Routing: 'conferma' -> FAST Model
2026-01-08 09:47:52 [INFO] kmchat.cli - Routing: 'Oggi piove, sostituisci la' -> FAST Model
2026-01-08 09:48:14 [INFO] kmchat.cli - Routing: '     camminata con 'Fare cyclette al chiuso'.' -> FAST Model
2026-01-08 09:48:41 [INFO] kmchat.cli - Routing: 'Oggi piove, sostituisci la' -> FAST Model
2026-01-08 09:49:29 [INFO] kmchat.cli - Routing: 'Oggi piove, sostituisci la camminata con 'Fare cyclette al chiuso'.' -> FAST Model
2026-01-08 09:52:17 [INFO] kmchat.cli - Routing: 'modifica attività Film di lunedì spostala alle 21:00' -> FAST Model
2026-01-08 09:53:37 [INFO] kmchat.cli - Routing: 'modifica attività Film di lunedì e spostala alle 21:00' -> FAST Model
2026-01-08 09:54:00 [INFO] kmchat.cli - Tool: modify_activity Args: {'day': 'Lunedì'}
2026-01-08 09:54:00 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 1 required positional argument: 'old_name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1041, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 582, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 1 required positional argument: 'old_name'
2026-01-08 09:55:48 [INFO] kmchat.cli - Routing: 'modifica attività Film di lunedì spostala alle 21:00' -> FAST Model
2026-01-08 10:48:41 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 10:49:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 10:49:17 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 10:49:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 10:49:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 10:49:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 10:49:53 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 10:50:03 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 10:50:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 10:50:19 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 10:50:27 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 10:50:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 10:50:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 10:50:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 10:51:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 10:51:18 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 10:51:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 10:51:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 10:51:42 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 10:51:56 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 10:52:02 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 10:52:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 10:52:21 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 10:52:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 10:52:40 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 10:52:53 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 10:52:55 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 10:53:08 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 10:53:10 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 10:53:23 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 10:53:33 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 10:53:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Sera = ore 21:00'}
2026-01-08 10:53:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 10:53:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 10:54:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 10:54:15 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 10:54:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 10:54:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 10:59:43 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:00:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:00:14 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:00:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:00:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 11:00:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 11:00:57 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:01:08 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:01:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:01:27 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:01:33 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:01:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:01:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 11:01:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 11:02:12 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:02:24 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:02:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 11:02:44 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:02:50 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 11:03:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 11:03:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 11:03:22 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:03:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:03:38 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 11:03:48 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:03:56 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 11:04:07 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:04:09 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 11:04:25 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 11:04:34 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 11:04:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 11:04:46 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 11:04:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 11:05:10 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:05:19 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:05:26 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 11:05:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 11:07:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:07:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:07:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:08:03 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:08:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 11:08:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 11:08:26 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:08:36 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:08:43 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:08:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:08:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:09:03 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:09:09 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 11:09:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 11:09:22 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:09:32 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:09:37 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 11:09:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 11:09:55 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 11:10:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 11:10:20 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 11:10:25 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:10:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:10:40 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 11:10:49 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:10:53 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 11:11:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:11:08 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 11:11:24 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 11:11:34 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 11:11:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 11:11:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 11:11:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 11:12:02 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:12:09 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:12:15 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 11:12:23 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 11:21:21 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:21:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:21:50 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:21:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:22:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 11:22:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 11:22:22 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:22:31 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:22:37 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:22:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:22:52 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:22:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:23:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 11:23:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 11:23:19 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:23:30 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:23:37 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 11:23:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 11:23:57 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 11:24:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 11:24:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 11:24:27 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:24:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:24:39 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 11:24:48 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:24:52 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 11:25:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 11:25:09 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 11:25:25 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 11:25:33 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 11:25:43 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 11:25:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 11:25:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 11:26:00 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:26:07 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:26:13 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 11:26:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 11:26:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:26:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:26:39 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 11:26:49 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 11:26:53 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 11:27:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 11:27:08 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 11:27:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 11:27:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 11:27:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:27:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'testauto1', 'caregiver_id': 'andrea_01'}
2026-01-08 11:27:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 11:27:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 11:28:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:28:15 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:28:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 11:28:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 11:28:43 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 11:28:55 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 11:29:02 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 11:29:12 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 11:29:14 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 11:29:27 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 11:58:49 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 11:59:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': None}
2026-01-08 11:59:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 11:59:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 11:59:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 12:00:13 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 12:00:23 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:00:36 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:00:43 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 12:00:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 12:01:05 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:01:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:01:24 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 12:01:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 12:01:53 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:02:04 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:02:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 12:02:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 12:02:49 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:03:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 12:03:33 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 12:03:40 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:03:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:04:02 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 12:04:16 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 12:04:23 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 12:04:41 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 12:04:47 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 12:05:09 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 12:05:18 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 12:05:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 12:05:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 12:05:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 12:06:03 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:06:15 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:06:24 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 12:06:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 12:06:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:07:00 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:07:07 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 12:07:20 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente TestAuto1 ha il diabete di tipo 1'}
2026-01-08 12:07:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 12:07:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 12:08:18 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:08:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 12:08:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 12:09:09 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:09:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:09:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 12:09:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 12:10:22 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:10:36 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:10:46 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 12:11:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 12:11:39 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:11:55 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:12:05 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 12:12:20 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 12:12:23 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 12:12:39 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 12:20:18 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:20:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:20:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 12:21:02 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 12:21:03 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 12:21:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 12:21:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:21:32 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:21:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 12:21:42 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 12:21:42 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:21:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:21:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 12:22:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 12:22:12 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:22:22 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:22:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 12:22:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 12:22:36 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:22:55 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 12:23:10 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-08 12:23:10 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:23:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:23:20 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 12:23:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 12:23:31 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 12:23:39 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:23:41 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 12:23:53 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'condizioni del paziente'}
2026-01-08 12:24:06 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 12:24:19 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 12:24:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 12:24:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 12:24:50 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:25:04 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:25:07 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 12:25:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 12:25:17 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:25:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:25:28 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 12:25:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 12:25:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 12:25:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 12:26:22 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:26:38 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 12:26:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 12:26:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:27:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:27:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 12:27:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 12:27:50 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:28:05 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:28:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 12:28:23 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 12:28:40 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:28:56 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:28:59 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 12:29:13 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 12:29:14 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 12:29:27 [INFO] kmchat.cli - Tool: cancel_action Args: {}
2026-01-08 12:34:24 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:34:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:34:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 12:34:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 12:34:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 12:35:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 12:35:18 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:35:28 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:35:29 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 12:35:38 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 12:35:39 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:35:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:35:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 12:36:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 12:36:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:36:15 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:36:15 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 12:36:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 12:36:28 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:36:28 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 12:36:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 12:36:40 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:36:50 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:36:50 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 12:36:59 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 12:37:00 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 12:37:09 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:37:09 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 12:37:17 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 12:37:18 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 12:37:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 12:37:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 12:37:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 12:37:43 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:37:52 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:37:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 12:38:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 12:38:01 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:38:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:38:10 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 12:38:20 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 12:38:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 12:38:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 12:38:42 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 12:38:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 12:38:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 12:38:56 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 12:39:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 12:39:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 12:39:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 12:39:29 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:39:38 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:39:39 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 12:39:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 12:40:09 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 12:40:20 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 12:40:21 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 12:40:32 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 12:40:33 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 13:31:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:32:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1'}
2026-01-08 13:32:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:32:43 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:32:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 13:32:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 13:33:00 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:33:10 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:33:10 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:33:18 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:33:19 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:33:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:33:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 13:33:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 13:33:45 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:33:56 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:33:56 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 13:34:10 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 13:34:11 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:34:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 13:34:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 13:34:25 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:34:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:34:37 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 13:34:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 13:34:47 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:34:49 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 13:35:00 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 13:35:00 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 13:35:11 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 13:35:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 13:35:23 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 13:35:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:35:42 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:35:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 13:35:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 13:35:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:36:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:36:02 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 13:36:13 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 13:36:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 13:36:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 13:36:31 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:36:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 13:36:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 13:36:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:36:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:36:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 13:37:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 13:37:25 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:37:37 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:37:37 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 13:37:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 13:38:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:38:20 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:38:20 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 13:38:33 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 13:38:34 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 13:38:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:38:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:38:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 13:38:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 13:39:06 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 13:39:21 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'new_name': 'Cyclette al chiuso', 'day': 'Lunedì'}
2026-01-08 13:39:31 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:39:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:39:44 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:39:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:39:55 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 13:40:07 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 13:40:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 13:40:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 13:40:30 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:40:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:41:10 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:41:11 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 13:41:25 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'La visita abituale di TestAuto1 è alle 18:00'}
2026-01-08 13:41:26 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:41:28 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 13:41:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'La visita di oggi per TestAuto1 è alle 14:00', 'day': 'Oggi'}
2026-01-08 13:41:42 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:41:45 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 13:42:03 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 13:42:04 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 13:42:18 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Quando si riferisce ad Aulin, si intende la forma granulare'}
2026-01-08 13:42:19 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:42:21 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 13:42:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Da oggi per Aulin si intende la supposta', 'day': None, 'confirm': True}
2026-01-08 13:42:40 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:42:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 13:42:54 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 13:43:14 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 13:49:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:49:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1'}
2026-01-08 13:49:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:49:43 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:49:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 13:49:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 13:50:02 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:50:16 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:50:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:50:27 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:50:28 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:50:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:50:39 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 13:50:53 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 13:50:59 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:51:11 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:51:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 13:51:26 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 13:51:27 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:51:27 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 13:51:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 13:51:40 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:51:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:51:51 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 13:52:01 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'preferences', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 13:52:02 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:52:03 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 13:52:14 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 13:52:14 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 13:52:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico sera intendo le ore 21:00'}
2026-01-08 13:52:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 13:52:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 13:52:46 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:52:56 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 13:52:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 13:53:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 13:53:06 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:53:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:53:18 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 13:53:34 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 13:53:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 13:53:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 13:54:00 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:54:00 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 13:54:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 13:54:17 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:54:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:54:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 13:54:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 13:54:57 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:55:01 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 13:55:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 13:55:24 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 13:55:26 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 13:55:43 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 13:55:44 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 13:55:44 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:55:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:56:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 13:56:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 13:56:25 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 13:56:41 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'new_name': 'Cyclette al chiuso', 'day': 'Lunedì'}
2026-01-08 13:56:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:57:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:57:08 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 13:57:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 13:57:22 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 13:57:41 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 13:57:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 13:57:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 13:58:02 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 13:58:03 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 13:58:19 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 13:58:20 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 13:58:34 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 13:58:34 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:58:36 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 13:58:49 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 13:58:50 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:58:51 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 13:59:03 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 13:59:03 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 13:59:16 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 13:59:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:59:18 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 13:59:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 13:59:31 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 13:59:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 13:59:44 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 14:13:59 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:14:28 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1'}
2026-01-08 14:14:29 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:14:42 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:14:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 14:14:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 14:14:57 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:14:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:15:10 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:15:11 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:15:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:15:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 14:15:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 14:15:35 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:15:37 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 14:15:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'force': False, 'confirm': True, 'description': 'Visita Infermieristica'}
2026-01-08 14:15:58 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:16:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 14:16:33 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 14:16:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:16:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:16:46 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 14:16:58 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 14:16:58 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:17:00 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 14:17:11 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 14:17:12 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 14:17:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dito 'sera' intendo le ore 21:00"}
2026-01-08 14:17:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 14:17:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 14:17:49 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:17:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 14:18:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 14:18:06 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:18:19 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:18:19 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 14:18:34 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 14:18:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 14:18:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 14:18:58 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:18:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 14:19:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 14:19:16 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:19:28 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:19:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 14:19:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 14:19:49 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:19:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 14:20:08 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 14:20:17 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:20:19 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 14:20:37 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 14:20:37 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 14:20:38 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:20:50 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:20:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 14:21:06 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 14:21:10 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:21:13 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 14:21:31 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'new_name': 'Cyclette al chiuso'}
2026-01-08 14:21:31 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 1 required positional argument: 'day'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 552, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 1 required positional argument: 'day'
2026-01-08 14:21:32 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:21:46 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 14:21:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:21:58 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:21:58 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:22:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:22:11 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 14:22:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 14:22:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 14:22:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'force': False, 'description': 'Assunzione farmaci con acqua'}
2026-01-08 14:22:51 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:22:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:23:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:23:13 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 14:23:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 14:23:29 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:23:31 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 14:23:45 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 14:23:45 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:23:48 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 14:24:00 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 14:24:00 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 14:24:14 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 14:24:14 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:24:16 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 14:24:30 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi per Aulin si intende la supposta'}
2026-01-08 14:24:30 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:24:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 14:24:46 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 14:30:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:30:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1'}
2026-01-08 14:30:35 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:30:49 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:30:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 14:31:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 14:31:04 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:31:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:31:18 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:31:19 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:31:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:31:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 14:31:46 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 14:31:47 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:31:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 14:32:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'force': False, 'description': 'Visita Infermieristica'}
2026-01-08 14:32:04 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:32:04 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 14:32:18 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 14:32:18 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:32:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:32:30 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 14:32:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 14:32:42 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:32:44 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 14:32:56 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 14:32:56 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 14:33:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dito 'sera' intendo le ore 21:00"}
2026-01-08 14:33:09 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 14:33:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 14:33:26 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:33:27 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 14:33:41 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 14:33:42 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:33:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:33:54 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 14:34:05 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 14:34:05 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 14:34:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 14:34:23 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:34:23 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 14:34:38 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 14:34:39 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:34:50 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:34:50 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 14:35:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 14:35:08 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:35:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 14:35:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-08 14:35:31 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:35:33 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 14:35:50 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 14:35:50 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 14:35:51 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:36:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:36:03 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 14:36:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 14:36:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:36:24 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 14:36:40 [INFO] kmchat.cli - Tool: modify_activity Args: {'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-08 14:36:40 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 1 required positional argument: 'old_name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1093, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 554, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 1 required positional argument: 'old_name'
2026-01-08 14:36:41 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:36:54 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-08 14:36:55 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:37:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:37:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:37:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:37:19 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 14:37:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 14:37:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 14:37:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 14:37:56 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:37:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:38:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:38:14 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 14:38:29 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 14:38:29 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:38:31 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 14:38:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 14:38:44 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:38:46 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 14:39:00 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'routine'}
2026-01-08 14:39:01 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 14:39:14 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 14:39:14 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:39:16 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 14:39:29 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi per Aulin si intende la supposta'}
2026-01-08 14:39:29 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:39:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 14:39:45 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 14:52:40 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:53:12 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:53:12 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:53:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:53:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 14:53:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 14:53:45 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:53:47 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 14:54:03 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 14:54:03 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:54:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:54:19 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 14:54:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 14:54:38 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:54:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 14:54:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 14:54:57 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:54:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 14:55:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 14:55:14 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:55:26 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:55:26 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 14:55:40 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 14:55:40 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 14:55:42 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 14:55:56 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 14:55:56 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 14:56:10 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 14:56:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 14:56:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 14:56:29 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:56:31 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 14:56:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 14:56:46 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:56:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:57:00 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 14:57:16 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 14:57:16 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 14:57:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 14:57:39 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 14:57:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 14:57:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 14:57:59 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:58:14 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:58:15 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 14:58:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 14:58:36 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:58:39 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 14:58:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-08 14:59:01 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:59:02 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 14:59:19 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 14:59:20 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 14:59:20 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 14:59:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 14:59:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 14:59:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 14:59:52 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 14:59:54 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 15:00:11 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-08 15:00:15 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:00:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:00:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:00:38 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:00:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:00:52 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 15:01:06 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 15:01:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 15:01:23 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 15:01:29 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 15:01:29 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:01:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:01:48 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 15:02:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 15:02:03 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:02:05 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 15:02:18 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 15:02:19 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:02:20 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 15:02:32 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 15:02:33 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 15:02:47 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 15:02:47 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:02:49 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 15:03:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 15:03:03 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:03:05 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 15:03:18 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 15:15:01 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:15:30 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:15:31 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:15:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:15:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 15:15:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 15:15:59 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:16:00 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:16:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:16:14 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:16:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:16:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 15:16:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 15:16:41 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:16:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 15:16:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 15:16:57 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 15:16:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 15:17:12 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 15:17:13 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:17:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:17:25 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 15:17:39 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 15:17:39 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:17:41 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 15:17:55 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 15:17:55 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 15:18:10 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 15:18:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 15:18:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 15:18:28 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:18:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 15:18:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 15:18:45 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:18:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:18:57 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 15:19:11 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 15:19:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 15:19:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 15:19:31 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 15:19:31 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 15:19:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 15:19:48 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:19:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:20:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 15:20:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 15:20:20 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:20:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 15:20:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-08 15:20:45 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:20:48 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 15:21:05 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 15:21:06 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 15:21:06 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:21:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:21:19 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 15:21:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 15:21:38 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:21:41 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 15:21:58 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-08 15:22:02 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:22:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:22:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:22:22 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:22:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:22:37 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 15:22:52 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 15:22:52 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 15:23:10 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 15:23:15 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 15:23:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 15:23:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 15:23:35 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 15:23:50 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 15:23:50 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:23:53 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 15:24:06 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 15:24:07 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:24:08 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 15:24:21 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 15:24:22 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 15:24:37 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 15:24:38 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:24:40 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 15:24:53 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 15:24:54 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 15:24:56 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 15:25:09 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 15:25:09 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 15:25:24 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 15:25:24 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-08 15:25:38 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-08 15:25:38 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 15:25:51 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 15:25:51 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-08 15:26:03 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-08 15:26:04 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-08 15:26:14 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-08 15:26:14 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-08 15:26:25 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-08 15:26:25 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 15:26:37 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 15:26:37 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-08 15:26:49 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-08 15:26:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-08 15:27:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-08 15:27:07 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 15:27:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 15:27:23 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 16:41:13 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:41:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:41:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 16:42:02 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 16:42:03 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 16:42:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 16:42:18 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:42:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 16:42:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 16:42:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:42:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:42:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 16:43:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 16:43:12 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:43:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 16:43:31 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 16:43:32 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 16:43:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 16:43:50 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 16:43:51 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:44:05 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:44:06 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 16:44:21 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 16:44:22 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 16:44:24 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 16:44:40 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 16:44:40 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 16:44:58 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 16:44:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 16:45:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 16:45:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:45:24 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 16:45:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 16:45:41 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:45:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:45:55 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 16:46:12 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 16:46:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 16:46:33 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 16:46:37 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 16:46:38 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 16:46:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 16:46:58 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:47:13 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:47:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 16:47:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 16:47:34 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:47:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 16:47:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 16:48:02 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:48:05 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 16:48:24 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 16:48:24 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 16:48:25 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:48:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:48:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 16:48:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 16:49:03 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:49:06 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 16:49:26 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-08 16:49:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:49:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 16:49:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 16:49:52 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:50:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:50:08 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 16:50:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 16:50:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 16:50:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedè'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 16:50:50 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 16:50:50 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 16:51:10 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 16:51:11 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 16:51:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 16:51:28 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 16:51:31 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 16:51:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 16:51:47 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 16:51:49 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 16:52:04 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 16:52:04 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 16:52:21 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 16:52:22 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 16:52:24 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 16:52:41 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 16:52:41 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 16:52:44 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 16:52:59 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 16:52:59 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 16:53:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 16:53:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-08 16:53:32 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-08 16:53:33 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 16:53:49 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 16:53:49 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-08 16:54:04 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-08 16:54:04 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-08 16:54:17 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-08 16:54:18 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-08 16:54:31 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-08 16:54:31 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 16:54:45 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 16:54:46 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-08 16:55:00 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-08 16:55:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-08 16:55:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-08 16:55:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 16:55:25 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 16:55:41 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 17:05:16 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:05:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:05:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 17:06:04 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 17:06:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-08 17:06:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-08 17:06:20 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:06:23 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 17:06:39 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 17:06:40 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:06:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:07:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-08 17:07:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-08 17:07:18 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:07:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-08 17:07:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-08 17:07:37 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 17:07:38 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 17:07:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 17:07:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:08:13 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:08:14 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-08 17:08:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-08 17:08:33 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:08:36 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 17:08:51 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 17:08:52 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-08 17:09:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-08 17:09:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-08 17:09:28 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-08 17:09:32 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:09:35 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 17:09:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 17:09:52 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:10:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:10:08 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-08 17:10:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-08 17:10:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-08 17:10:49 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-08 17:10:53 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 17:10:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-08 17:11:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-08 17:11:14 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:11:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:11:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-08 17:11:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-08 17:11:57 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:12:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-08 17:12:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-08 17:12:27 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:12:33 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-08 17:12:52 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-08 17:12:53 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 17:12:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:13:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:13:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-08 17:13:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-08 17:13:33 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:13:37 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-08 17:13:57 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-08 17:14:01 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:14:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 17:14:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 17:14:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:14:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:14:42 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-08 17:14:58 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-08 17:14:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-08 17:15:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedè'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-08 17:15:25 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-08 17:15:26 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-08 17:15:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-08 17:15:47 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-08 17:16:05 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-08 17:16:05 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:16:08 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-08 17:16:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-08 17:16:25 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:16:27 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 17:16:43 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 17:16:43 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-08 17:17:00 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-08 17:17:01 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:17:03 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-08 17:17:19 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-08 17:17:19 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:17:22 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 17:17:37 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 17:17:37 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-08 17:17:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-08 17:17:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-08 17:18:09 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-08 17:18:10 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-08 17:18:25 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-08 17:18:26 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-08 17:18:41 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-08 17:18:41 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-08 17:18:55 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-08 17:18:56 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-08 17:19:10 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-08 17:19:10 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 17:19:24 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-08 17:19:25 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-08 17:19:42 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-08 17:19:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-08 17:20:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-08 17:20:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:20:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-08 17:20:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-08 17:20:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-08 17:20:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-08 17:20:44 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-08 17:21:08 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-08 17:21:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-08 17:21:33 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:21:36 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-08 17:21:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-08 17:21:56 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-08 17:22:13 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-08 17:22:19 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:22:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-08 17:22:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-08 17:22:47 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-08 17:22:52 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-08 17:23:11 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-08 17:23:11 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-08 17:23:12 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-08 17:23:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-08 17:23:32 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-08 17:23:34 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-08 17:23:51 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-08 17:23:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-08 17:24:07 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 15:10:13 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:10:13 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:14 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:10:14 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-12 15:10:14 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:15 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:10:15 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:10:16 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:16 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:10:16 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:17 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-12 15:10:17 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:17 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:10:17 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-12 15:10:18 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:18 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 15:10:18 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 15:10:19 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:19 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:10:19 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:20 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-12 15:10:20 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:20 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:10:20 [ERROR] kmchat.cli - Err: [Errno 61] Connection refused
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1062, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 174, in inner
    with self._client.stream(*args, **kwargs) as r:
         ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 868, in stream
    response = self.send(
        request=request,
    ...<2 lines>...
        stream=True,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 61] Connection refused
2026-01-12 15:10:21 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 15:10:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:11:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:11:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:11:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 15:11:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-12 15:11:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-12 15:11:38 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:11:39 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:11:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 15:11:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:12:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:12:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-12 15:12:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-12 15:12:22 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:12:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-12 15:12:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-12 15:12:39 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 15:12:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 15:12:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 15:12:56 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:13:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:13:09 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-12 15:13:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-12 15:13:23 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:13:24 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 15:13:39 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 15:13:39 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-12 15:13:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-12 15:13:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-12 15:14:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-12 15:14:12 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:14:14 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 15:14:29 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 15:14:30 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:14:42 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:14:42 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-12 15:14:56 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-12 15:14:56 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-12 15:15:13 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-12 15:15:16 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 15:15:17 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-12 15:15:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-12 15:15:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:15:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:15:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-12 15:16:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-12 15:16:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:16:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-12 15:16:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-12 15:16:28 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:16:29 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-12 15:16:47 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-12 15:16:48 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 15:16:48 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:17:01 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:17:02 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-12 15:17:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-12 15:17:20 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:17:22 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-12 15:17:40 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-12 15:17:43 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:17:44 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:18:02 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 15:18:03 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:18:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:18:16 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-12 15:18:30 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-12 15:18:30 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-12 15:18:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-12 15:18:52 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 15:18:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 15:19:10 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 15:19:10 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-12 15:19:31 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita medica', 'days': ['Martedì'], 'time': '18:00', 'dependencies': [], 'description': 'Visita medica'}
2026-01-12 15:19:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:19:37 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-12 15:19:53 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Visita medica', 'day': 'Martedì', 'new_time': '14:00'}
2026-01-12 15:19:54 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:19:55 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 15:20:09 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 15:20:09 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-12 15:20:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-12 15:20:24 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:20:25 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-12 15:20:39 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-12 15:20:39 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:20:40 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 15:20:54 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 15:20:54 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 15:21:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 15:21:07 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 15:21:21 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 15:21:21 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 15:21:34 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 15:21:34 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-12 15:21:46 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-12 15:21:47 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-12 15:21:59 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-12 15:22:00 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-12 15:22:12 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-12 15:22:13 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 15:22:25 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 15:22:25 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-12 15:22:37 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-12 15:22:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-12 15:22:53 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-12 15:22:56 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:22:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 15:23:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 15:23:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-12 15:23:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 15:23:27 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-12 15:23:48 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-12 15:24:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 15:24:07 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:24:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 15:24:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 15:24:24 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-12 15:24:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-12 15:24:43 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:24:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-12 15:25:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-12 15:25:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 15:25:09 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-12 15:25:26 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-12 15:25:26 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 15:25:27 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-12 15:25:42 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-12 15:25:43 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 15:25:44 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 15:25:57 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 15:25:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 15:26:10 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 15:26:10 [INFO] kmchat.cli - Routing: 'Secondo il PDF, quali sono le capacità del sistema?' -> FAST Model
2026-01-12 15:26:22 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'capacità del sistema'}
2026-01-12 15:26:30 [INFO] kmchat.cli - Routing: 'Quali requisiti deve rispettare il sistema?' -> FAST Model
2026-01-12 15:26:45 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'requisiti del sistema'}
2026-01-12 16:11:08 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:11:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:11:39 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:11:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:11:56 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-12 16:12:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-12 16:12:12 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:12:13 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:12:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:12:29 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:12:42 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:12:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-12 16:12:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-12 16:12:59 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:13:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-12 16:13:17 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-12 16:13:17 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:13:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 16:13:35 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 16:13:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:13:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:13:49 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-12 16:14:04 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-12 16:14:05 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:14:06 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 16:14:21 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 16:14:22 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-12 16:14:37 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-12 16:14:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-12 16:14:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-12 16:14:57 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:14:59 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 16:15:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 16:15:15 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:15:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:15:30 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-12 16:15:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-12 16:15:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-12 16:16:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-12 16:16:05 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:16:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-12 16:16:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-12 16:16:24 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:16:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:16:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-12 16:16:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-12 16:16:58 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:16:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-12 16:17:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-12 16:17:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:17:22 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-12 16:17:42 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-12 16:17:42 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 16:17:43 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:17:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:17:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-12 16:18:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-12 16:18:17 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:18:18 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-12 16:18:37 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-12 16:18:41 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:18:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:19:00 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:19:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:19:13 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:19:14 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-12 16:19:29 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-12 16:19:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-12 16:19:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-12 16:19:52 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:19:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:20:11 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:20:11 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-12 16:20:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-12 16:20:27 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:20:28 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-12 16:20:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-12 16:20:44 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:20:46 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:21:01 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 16:21:01 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-12 16:21:17 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-12 16:21:17 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:21:19 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-12 16:21:36 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-12 16:21:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:21:39 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:21:56 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 16:21:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:22:13 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:22:14 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 16:22:30 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 16:22:31 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 16:22:48 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 16:22:49 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-12 16:23:03 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-12 16:23:04 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-12 16:23:20 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-12 16:23:20 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-12 16:23:34 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-12 16:23:34 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:23:49 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 16:23:50 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-12 16:24:03 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-12 16:24:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-12 16:24:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-12 16:24:26 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:24:27 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 16:24:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 16:24:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-12 16:24:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 16:25:00 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-12 16:25:25 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-12 16:25:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 16:25:46 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:25:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 16:26:05 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 16:26:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-12 16:26:21 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-12 16:26:26 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:26:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-12 16:26:46 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'force': False, 'description': 'Farmaco X'}
2026-01-12 16:26:51 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:26:53 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-12 16:27:12 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-12 16:27:13 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 16:27:13 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-12 16:27:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-12 16:27:33 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:27:35 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:27:51 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 16:27:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 16:28:06 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 16:28:06 [INFO] kmchat.cli - Routing: 'Secondo il PDF, quali sono le capacità del sistema?' -> FAST Model
2026-01-12 16:28:20 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'capacità del sistema'}
2026-01-12 16:28:36 [INFO] kmchat.cli - Routing: 'Quali requisiti deve rispettare il sistema?' -> FAST Model
2026-01-12 16:28:54 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'requisiti del progetto'}
2026-01-12 16:43:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:44:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:44:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:44:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:44:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-12 16:44:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-12 16:44:39 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:44:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:44:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:44:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:45:12 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:45:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-12 16:45:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-12 16:45:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:45:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-12 16:45:49 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-12 16:45:49 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:45:50 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 16:46:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 16:46:08 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:46:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:46:22 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-12 16:46:38 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-12 16:46:38 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:46:39 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 16:46:56 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 16:46:56 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-12 16:47:12 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-12 16:47:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-12 16:47:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-12 16:47:33 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:47:34 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 16:47:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 16:47:52 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:48:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:48:08 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-12 16:48:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-12 16:48:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-12 16:48:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-12 16:48:47 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:48:47 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-12 16:49:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-12 16:49:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:49:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:49:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-12 16:49:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-12 16:49:44 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:49:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-12 16:50:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-12 16:50:09 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:50:10 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-12 16:50:31 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdĉ'}
2026-01-12 16:50:31 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 16:50:32 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:50:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:50:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-12 16:51:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-12 16:51:08 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:51:09 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-12 16:51:29 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-12 16:51:32 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:51:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:51:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:51:54 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:52:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:52:09 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-12 16:52:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-12 16:52:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-12 16:52:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-12 16:52:50 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 16:52:50 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 16:53:11 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 16:53:12 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-12 16:53:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-12 16:53:28 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:53:29 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-12 16:53:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-12 16:53:45 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:53:46 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:54:00 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 16:54:01 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-12 16:54:15 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-12 16:54:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:54:17 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-12 16:54:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-12 16:54:32 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:54:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:54:48 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 16:54:48 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 16:55:01 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 16:55:02 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 16:55:16 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 16:55:16 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 16:55:30 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 16:55:31 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-12 16:55:44 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-12 16:55:44 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-12 16:55:57 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-12 16:55:58 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-12 16:56:09 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-12 16:56:10 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 16:56:22 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 16:56:23 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-12 16:56:35 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-12 16:56:36 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-12 16:56:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-12 16:56:55 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:56:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 16:57:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 16:57:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-12 16:57:28 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 16:57:28 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-12 16:57:50 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-12 16:58:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 16:58:10 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:58:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 16:58:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 16:58:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-12 16:58:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-12 16:58:48 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:58:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-12 16:59:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'force': False, 'description': 'Farmaco X'}
2026-01-12 16:59:13 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 16:59:16 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-12 16:59:34 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-12 16:59:34 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 16:59:35 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-12 16:59:51 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-12 16:59:51 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 16:59:52 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 17:00:06 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 17:00:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 17:00:19 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 17:00:20 [INFO] kmchat.cli - Routing: 'Secondo il PDF, quali sono le capacità del sistema?' -> FAST Model
2026-01-12 17:00:32 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'capacità del sistema'}
2026-01-12 17:00:45 [INFO] kmchat.cli - Routing: 'Quali requisiti deve rispettare il sistema?' -> FAST Model
2026-01-12 17:01:01 [INFO] kmchat.cli - Tool: consult_guidelines Args: {'query': 'requisiti del progetto'}
2026-01-12 17:05:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:06:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:06:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 17:06:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 17:06:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-12 17:06:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-12 17:06:37 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:06:38 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 17:06:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 17:06:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:07:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:07:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-12 17:07:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-12 17:07:22 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:07:23 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-12 17:07:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-12 17:07:39 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 17:07:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 17:07:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 17:07:56 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:08:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:08:09 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-12 17:08:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-12 17:08:24 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:08:25 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 17:08:40 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 17:08:40 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-12 17:08:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-12 17:08:55 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-12 17:09:10 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-12 17:09:14 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:09:15 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 17:09:30 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 17:09:31 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:09:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:09:44 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-12 17:09:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-12 17:09:58 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-12 17:10:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-12 17:10:17 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 17:10:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-12 17:10:35 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-12 17:10:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:10:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:10:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-12 17:11:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-12 17:11:07 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:11:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-12 17:11:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-12 17:11:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:11:31 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-12 17:11:49 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-12 17:11:50 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 17:11:50 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:12:03 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:12:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-12 17:12:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-12 17:12:23 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:12:24 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-12 17:12:42 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-12 17:12:46 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:12:47 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 17:13:04 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 17:13:05 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:13:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:13:18 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-12 17:13:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-12 17:13:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-12 17:13:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-12 17:13:54 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-12 17:13:55 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-12 17:14:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-12 17:14:13 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-12 17:14:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-12 17:14:28 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:14:28 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-12 17:14:43 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-12 17:14:43 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:14:44 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 17:14:58 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 17:14:58 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-12 17:15:12 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-12 17:15:13 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:15:14 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-12 17:15:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-12 17:15:29 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:15:29 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 17:15:43 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 17:15:44 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-12 17:15:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-12 17:15:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 17:16:10 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-12 17:16:10 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-12 17:16:23 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-12 17:16:24 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-12 17:16:36 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-12 17:16:36 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-12 17:16:48 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-12 17:16:49 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-12 17:17:00 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-12 17:17:01 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 17:17:12 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-12 17:17:13 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-12 17:17:25 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-12 17:17:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-12 17:17:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedè', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-12 17:17:44 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:17:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-12 17:18:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-12 17:18:01 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-12 17:18:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 17:18:15 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-12 17:18:36 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-12 17:18:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-12 17:18:55 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:18:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-12 17:19:12 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-12 17:19:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-12 17:19:26 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-12 17:19:31 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:19:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-12 17:19:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'force': False, 'description': 'Farmaco X'}
2026-01-12 17:19:55 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-12 17:19:58 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-12 17:20:15 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-12 17:20:16 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-12 17:20:16 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-12 17:20:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-12 17:20:33 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-12 17:20:34 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-12 17:20:47 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-12 17:20:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-12 17:21:00 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-13 22:29:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:29:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:29:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 22:29:49 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 22:29:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-13 22:30:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-13 22:30:05 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:30:07 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 22:30:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 22:30:22 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:30:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:30:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-13 22:30:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-13 22:30:52 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:30:52 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-13 22:31:08 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-13 22:31:09 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 22:31:09 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-13 22:31:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-13 22:31:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:31:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:31:39 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-13 22:31:53 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-13 22:31:54 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 22:31:55 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-13 22:32:10 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-13 22:32:10 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-13 22:32:25 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-13 22:32:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-13 22:32:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-13 22:32:45 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:32:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-13 22:33:02 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-13 22:33:02 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:33:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:33:15 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-13 22:33:30 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-13 22:33:30 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-13 22:33:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-13 22:33:50 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 22:33:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-13 22:34:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-13 22:34:09 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:34:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:34:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-13 22:34:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-13 22:34:42 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:34:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-13 22:35:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-13 22:35:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:35:07 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-13 22:35:25 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-13 22:35:26 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-13 22:35:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:35:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:35:40 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-13 22:35:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-13 22:36:00 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:36:01 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-13 22:36:20 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-13 22:36:23 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 22:36:25 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 22:36:42 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 22:36:43 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:36:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:36:56 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-13 22:37:11 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-13 22:37:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-13 22:37:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-13 22:37:34 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 22:37:34 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 22:37:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 22:37:53 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-13 22:38:08 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-13 22:38:08 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 22:38:09 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-13 22:38:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-13 22:38:24 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 22:38:25 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 22:38:39 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-13 22:38:40 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-13 22:38:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-13 22:38:55 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 22:38:56 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-13 22:39:10 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-13 22:39:11 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 22:39:12 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 22:39:26 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-13 22:39:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 22:48:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 22:48:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-13 22:49:08 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-13 22:49:08 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-13 22:49:23 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-13 22:49:23 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-13 22:56:06 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-13 22:56:06 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-13 22:56:20 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-13 22:56:21 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-13 22:56:33 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-13 22:56:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:00:20 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-13 23:00:21 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-13 23:00:33 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-13 23:00:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-13 23:00:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedè', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-13 23:00:53 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:00:54 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-13 23:05:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-13 23:05:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-13 23:05:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-13 23:05:23 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-13 23:05:43 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-13 23:07:28 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-13 23:07:31 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:07:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-13 23:07:49 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-13 23:07:50 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-13 23:08:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-13 23:15:28 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:15:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-13 23:15:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'force': False, 'description': 'Farmaco X'}
2026-01-13 23:15:52 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:15:55 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-13 23:17:18 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-13 23:17:19 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-13 23:17:19 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-13 23:17:35 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-13 23:17:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:17:37 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:17:50 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-13 23:17:50 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-13 23:18:03 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-13 23:19:39 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:19:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:19:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 23:19:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 23:19:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-13 23:20:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-13 23:20:07 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:20:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 23:20:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 23:20:15 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:20:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:20:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-13 23:20:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedà'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-13 23:20:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:20:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-13 23:20:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedà'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-13 23:20:39 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 23:20:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-13 23:20:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-13 23:20:48 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:20:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:20:55 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-13 23:21:02 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-13 23:21:02 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:21:03 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-13 23:21:10 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-13 23:21:11 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-13 23:23:28 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-13 23:23:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-13 23:23:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': 'Sera', 'dependencies': [], 'description': 'Camomilla'}
2026-01-13 23:23:40 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:23:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-13 23:23:49 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-13 23:23:50 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:23:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:23:56 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-13 23:24:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-13 23:24:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-13 23:24:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedð'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-13 23:24:49 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 23:24:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-13 23:24:58 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-13 23:24:58 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:25:05 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:25:05 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-13 23:25:13 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-13 23:25:16 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:25:16 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-13 23:25:26 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdð'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-13 23:25:29 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:25:30 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-13 23:28:09 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-13 23:28:09 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-13 23:28:10 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:28:16 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:28:17 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-13 23:28:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-13 23:28:28 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:28:30 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-13 23:28:39 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-13 23:28:42 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:28:44 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 23:30:32 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 23:30:32 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:30:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:30:39 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-13 23:30:47 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-13 23:30:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-13 23:30:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-13 23:30:58 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-13 23:30:59 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-13 23:31:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-13 23:31:08 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-13 23:31:17 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-13 23:31:18 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:31:19 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-13 23:31:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-13 23:31:27 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:31:27 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:31:38 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-13 23:31:38 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-13 23:31:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-13 23:31:46 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:31:47 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-13 23:31:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-13 23:31:55 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:31:55 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:35:22 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-13 23:35:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-13 23:35:29 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-13 23:35:35 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-13 23:35:36 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-13 23:35:42 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-13 23:35:43 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-13 23:35:49 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-13 23:35:49 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-13 23:35:55 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-13 23:35:56 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-13 23:38:22 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-13 23:38:22 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:38:36 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-13 23:38:43 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-13 23:38:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-13 23:38:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedñi'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-13 23:38:56 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:38:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-13 23:39:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-13 23:39:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-13 23:39:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '', 'dependencies': [], 'force': False, 'description': 'Ossigenoterapia'}
2026-01-13 23:39:14 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-13 23:39:25 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-13 23:40:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-13 23:40:10 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:40:12 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-13 23:40:20 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-13 23:40:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-13 23:40:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedà'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-13 23:40:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:40:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-13 23:40:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-13 23:40:44 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-13 23:40:44 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-13 23:41:58 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-13 23:41:58 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-13 23:41:59 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-13 23:42:06 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico mattina intendo l"intervallo tra le 08:00 e le 10:00'}
2026-01-13 23:42:07 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-13 23:42:08 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-13 23:42:20 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-13 23:42:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-13 23:42:27 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 00:49:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:49:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:49:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 00:50:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 00:50:14 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-14 00:50:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-14 00:50:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:50:31 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 00:50:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 00:50:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:51:01 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:51:01 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-14 00:51:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-14 00:51:19 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:51:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-14 00:51:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-14 00:51:37 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 00:51:37 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-14 00:51:54 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 00:51:55 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:52:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:52:09 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-14 00:52:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-14 00:52:25 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 00:52:26 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-14 00:52:41 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 00:52:41 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-14 00:52:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-14 00:52:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-14 00:53:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-14 00:53:17 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:53:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-14 00:53:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 00:53:36 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:53:50 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:53:50 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-14 00:54:05 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-14 00:54:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-14 00:54:24 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-14 00:54:27 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 00:54:27 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-14 00:54:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-14 00:54:46 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:55:00 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:55:01 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-14 00:55:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-14 00:55:21 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:55:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-14 00:55:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-14 00:55:46 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:55:47 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-14 00:56:06 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-14 00:56:07 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-14 00:56:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:56:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:56:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-14 00:56:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-14 00:56:42 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:56:43 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-14 00:57:03 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-14 00:57:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 00:57:07 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 00:57:26 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 00:57:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 00:57:40 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 00:57:41 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-14 00:57:56 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-14 00:57:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-14 00:58:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-14 00:58:20 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 00:58:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 00:58:39 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 00:58:40 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-14 00:58:55 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-14 00:58:55 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 00:58:56 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-14 00:59:12 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-14 00:59:12 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 00:59:13 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 00:59:28 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 00:59:28 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-14 00:59:48 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-14 00:59:49 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 00:59:51 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-14 01:00:08 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-14 01:00:09 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:00:11 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:00:26 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 01:00:27 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:00:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:00:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-14 01:00:56 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 01:00:56 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-14 01:01:10 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 01:01:10 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-14 01:01:23 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-14 01:01:23 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-14 01:01:37 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-14 01:01:38 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-14 01:01:51 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 01:01:51 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:02:04 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 01:02:04 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-14 01:02:18 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-14 01:02:19 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-14 01:02:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 01:02:39 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:02:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-14 01:02:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 01:02:58 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-14 01:03:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '08:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 01:03:17 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-14 01:03:18 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-14 01:03:18 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:03:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-14 01:03:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 01:03:37 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-14 01:03:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-14 01:03:58 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:03:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-14 01:04:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'force': False, 'description': 'Farmaco X'}
2026-01-14 01:04:23 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:04:26 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-14 01:04:44 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-14 01:04:45 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-14 01:04:45 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-14 01:05:02 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-14 01:05:03 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:05:04 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:05:18 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 01:05:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-14 01:05:32 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 01:05:35 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:05:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:05:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 01:05:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:05:57 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> FAST Model
2026-01-14 01:06:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-14 01:06:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:06:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 01:06:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:06:15 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:06:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:06:22 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> FAST Model
2026-01-14 01:06:30 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-14 01:06:31 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:06:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> FAST Model
2026-01-14 01:06:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-14 01:06:41 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 01:06:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-14 01:06:50 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedè'}
2026-01-14 01:06:51 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:06:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:06:58 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> FAST Model
2026-01-14 01:07:05 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-14 01:07:06 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:07:06 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-14 01:07:15 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 01:07:15 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> FAST Model
2026-01-14 01:07:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-14 01:07:24 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> FAST Model
2026-01-14 01:07:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-14 01:07:35 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:07:37 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-14 01:07:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 01:07:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:07:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:07:54 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> FAST Model
2026-01-14 01:08:02 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-14 01:08:02 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> FAST Model
2026-01-14 01:08:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-14 01:08:15 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 01:08:15 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> FAST Model
2026-01-14 01:08:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedð'}
2026-01-14 01:08:26 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:08:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:08:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> FAST Model
2026-01-14 01:08:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-14 01:08:45 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:08:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> FAST Model
2026-01-14 01:08:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-14 01:08:59 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:09:00 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> FAST Model
2026-01-14 01:09:10 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-14 01:09:11 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-14 01:09:11 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:09:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:09:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> FAST Model
2026-01-14 01:09:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-14 01:09:30 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:09:32 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> FAST Model
2026-01-14 01:09:42 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-14 01:09:46 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:09:47 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 01:09:57 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:09:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:10:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:10:05 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> FAST Model
2026-01-14 01:10:13 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-14 01:10:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> FAST Model
2026-01-14 01:10:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-14 01:10:26 [INFO] kmchat.cli - Routing: 'No' -> FAST Model
2026-01-14 01:10:26 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> FAST Model
2026-01-14 01:10:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:10:36 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> FAST Model
2026-01-14 01:10:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-14 01:10:45 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:10:45 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> FAST Model
2026-01-14 01:10:53 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-14 01:10:54 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:10:54 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:11:07 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> FAST Model
2026-01-14 01:11:15 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-14 01:11:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:11:16 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> FAST Model
2026-01-14 01:11:24 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-14 01:11:25 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:11:26 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:11:37 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 01:11:37 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> FAST Model
2026-01-14 01:11:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:11:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-14 01:11:53 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 01:11:53 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> FAST Model
2026-01-14 01:12:00 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 01:12:01 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> FAST Model
2026-01-14 01:12:08 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-14 01:12:08 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> FAST Model
2026-01-14 01:12:15 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-14 01:12:16 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> FAST Model
2026-01-14 01:12:27 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-14 01:12:28 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:12:41 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> FAST Model
2026-01-14 01:12:49 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-14 01:12:50 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> FAST Model
2026-01-14 01:12:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 01:13:01 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:13:03 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> FAST Model
2026-01-14 01:13:11 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedè'}
2026-01-14 01:13:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> FAST Model
2026-01-14 01:13:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '', 'dependencies': [], 'force': False, 'description': 'Ossigenoterapia'}
2026-01-14 01:13:20 [INFO] kmchat.cli - Routing: 'A che ora?' -> FAST Model
2026-01-14 01:13:32 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> FAST Model
2026-01-14 01:13:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 01:13:44 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:13:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> FAST Model
2026-01-14 01:13:54 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 01:13:55 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> FAST Model
2026-01-14 01:14:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-14 01:14:06 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:14:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> FAST Model
2026-01-14 01:14:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-14 01:14:19 [INFO] kmchat.cli - Routing: 'Conferma' -> FAST Model
2026-01-14 01:14:20 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> FAST Model
2026-01-14 01:14:30 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-14 01:14:30 [INFO] kmchat.cli - Routing: 'Annulla' -> FAST Model
2026-01-14 01:14:31 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> FAST Model
2026-01-14 01:14:39 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico mattina intendo l"intervallo tra le 08:00 e le 10:00'}
2026-01-14 01:14:40 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> FAST Model
2026-01-14 01:14:41 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> FAST Model
2026-01-14 01:14:53 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 01:14:54 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> FAST Model
2026-01-14 01:15:02 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 01:44:38 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:45:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:45:10 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 01:45:27 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:45:28 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> SMART Model
2026-01-14 01:45:46 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-14 01:45:46 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:45:47 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 01:46:04 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:46:04 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:46:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:46:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> SMART Model
2026-01-14 01:46:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-14 01:46:39 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:46:40 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> SMART Model
2026-01-14 01:46:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-14 01:46:58 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 01:46:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 01:47:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 01:47:17 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:47:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:47:33 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> SMART Model
2026-01-14 01:47:50 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-14 01:47:50 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 01:47:51 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 01:48:08 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 01:48:09 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> SMART Model
2026-01-14 01:48:25 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-14 01:48:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> SMART Model
2026-01-14 01:48:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-14 01:48:47 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:48:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 01:49:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 01:49:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:49:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:49:24 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> SMART Model
2026-01-14 01:49:41 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-14 01:49:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> SMART Model
2026-01-14 01:50:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-14 01:50:04 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 01:50:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> SMART Model
2026-01-14 01:50:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-14 01:50:25 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:50:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:50:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> SMART Model
2026-01-14 01:51:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-14 01:51:03 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:51:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> SMART Model
2026-01-14 01:51:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-14 01:51:29 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:51:30 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> SMART Model
2026-01-14 01:51:50 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-14 01:51:50 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 01:51:51 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:52:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:52:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> SMART Model
2026-01-14 01:52:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-14 01:52:29 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:52:30 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> SMART Model
2026-01-14 01:52:50 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-14 01:52:54 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 01:52:55 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 01:53:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:53:16 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 01:53:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 01:53:33 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-14 01:53:50 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-14 01:53:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> SMART Model
2026-01-14 01:54:10 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-14 01:54:15 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 01:54:15 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 01:54:35 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 01:54:36 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> SMART Model
2026-01-14 01:54:53 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-14 01:54:53 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 01:54:54 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> SMART Model
2026-01-14 01:55:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-14 01:55:44 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 01:55:46 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 01:56:03 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 01:56:03 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> SMART Model
2026-01-14 02:11:18 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-14 02:11:18 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 02:11:20 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> SMART Model
2026-01-14 02:11:37 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi per Aulin si intende la supposta'}
2026-01-14 02:11:37 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 02:11:39 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 02:11:56 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 02:11:56 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:12:14 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:12:14 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 02:12:30 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 02:12:31 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 02:12:48 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 02:12:49 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> SMART Model
2026-01-14 02:15:15 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-14 02:15:16 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> SMART Model
2026-01-14 02:15:32 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-14 02:15:32 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> SMART Model
2026-01-14 02:15:47 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 02:15:48 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 02:16:28 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 02:16:28 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> SMART Model
2026-01-14 02:16:44 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-14 02:16:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-14 02:17:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 02:17:05 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:17:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 02:18:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 02:18:36 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> SMART Model
2026-01-14 02:18:53 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': None, 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 02:18:54 [INFO] kmchat.cli - Routing: 'A che ora?' -> SMART Model
2026-01-14 02:20:43 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> SMART Model
2026-01-14 02:21:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 02:21:06 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:21:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 02:21:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 02:21:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> SMART Model
2026-01-14 02:22:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-14 02:22:11 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:22:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> SMART Model
2026-01-14 02:23:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-14 02:23:12 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:23:14 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> SMART Model
2026-01-14 02:30:32 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-14 02:30:33 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 02:30:33 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> SMART Model
2026-01-14 02:30:51 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-14 02:30:51 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 02:30:52 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 02:31:09 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'caregiver'}
2026-01-14 02:31:09 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 02:46:23 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 02:46:27 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:46:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:46:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 02:46:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 02:46:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> SMART Model
2026-01-14 02:47:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-14 02:47:01 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:47:01 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 02:47:10 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedí'}
2026-01-14 02:47:11 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:47:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:47:19 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> SMART Model
2026-01-14 02:47:28 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-14 02:47:29 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:47:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> SMART Model
2026-01-14 02:47:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-14 02:47:40 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 02:47:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 02:47:50 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-14 02:47:51 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:47:58 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:47:59 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> SMART Model
2026-01-14 02:48:07 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-14 02:48:08 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 02:48:08 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 02:48:18 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 02:48:18 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> SMART Model
2026-01-14 02:48:27 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-14 02:48:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> SMART Model
2026-01-14 02:48:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-14 02:48:41 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:48:43 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 02:48:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 02:48:54 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:49:02 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:49:03 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> SMART Model
2026-01-14 02:53:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-14 02:53:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> SMART Model
2026-01-14 02:53:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-14 02:53:45 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 02:53:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> SMART Model
2026-01-14 02:53:56 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-14 02:53:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:54:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:54:05 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> SMART Model
2026-01-14 02:54:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-14 02:58:32 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:58:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> SMART Model
2026-01-14 02:58:44 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'description': 'Pillola B'}
2026-01-14 02:58:47 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 02:58:47 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> SMART Model
2026-01-14 02:58:59 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-14 02:58:59 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 02:59:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 02:59:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 02:59:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> SMART Model
2026-01-14 02:59:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-14 03:01:01 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:01:04 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> SMART Model
2026-01-14 03:01:16 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-14 03:01:19 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:01:22 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 03:01:33 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 03:01:33 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 03:01:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 03:01:41 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-14 03:01:50 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-14 03:01:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> SMART Model
2026-01-14 03:02:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-14 03:02:05 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 03:02:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 03:02:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedí'}
2026-01-14 03:02:16 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> SMART Model
2026-01-14 03:02:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-14 03:02:26 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 03:02:27 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> SMART Model
2026-01-14 03:02:35 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'habits'}
2026-01-14 03:02:35 [ERROR] kmchat.cli - Err: save_knowledge_tool() missing 1 required positional argument: 'content'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1092, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 526, in _execute_tool
    return save_knowledge_tool(**args)
TypeError: save_knowledge_tool() missing 1 required positional argument: 'content'
2026-01-14 03:02:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 03:02:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Salva questa informazione'}
2026-01-14 03:02:46 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 03:02:55 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 03:02:56 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> SMART Model
2026-01-14 03:03:06 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-14 03:03:07 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 03:03:07 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> SMART Model
2026-01-14 03:03:18 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intende la supposta'}
2026-01-14 03:03:18 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 03:03:19 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 03:03:29 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 03:03:29 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 03:03:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 03:03:39 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 03:03:49 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 03:03:50 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 03:04:00 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 03:04:00 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> SMART Model
2026-01-14 03:04:09 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-14 03:04:10 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> SMART Model
2026-01-14 03:04:33 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-14 03:04:33 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> SMART Model
2026-01-14 03:04:57 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-14 03:04:58 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 03:05:22 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 03:05:23 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> SMART Model
2026-01-14 03:05:48 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-14 03:05:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-14 03:06:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 03:06:08 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:06:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 03:06:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-14 03:06:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> SMART Model
2026-01-14 03:06:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '', 'dependencies': [], 'force': False, 'description': 'Ossigenoterapia'}
2026-01-14 03:06:37 [INFO] kmchat.cli - Routing: 'A che ora?' -> SMART Model
2026-01-14 03:06:52 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> SMART Model
2026-01-14 03:07:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '11:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 03:07:09 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:07:12 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 03:07:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 03:07:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> SMART Model
2026-01-14 03:08:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-14 03:08:20 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:08:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> SMART Model
2026-01-14 03:08:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-14 03:08:43 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 03:08:44 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> SMART Model
2026-01-14 03:09:00 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-14 03:09:00 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 03:09:01 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> SMART Model
2026-01-14 03:09:14 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico mattina intendo l"intervallo tra le 08:00 e le 10:00'}
2026-01-14 03:09:14 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 03:09:15 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 03:09:27 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 03:09:28 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 03:09:39 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 20:02:16 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:02:17 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:18 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:02:18 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:02:18 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:19 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:02:19 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:19 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:02:19 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita nutrizionista' martedì alle 10:30' -> SMART Model
2026-01-14 20:02:20 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:20 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:02:20 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:21 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 20:02:21 [ERROR] kmchat.cli - Err: model 'kmchat-' not found (status code: 404)
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1095, in run_agent_step
    for token in response_gen: full_text += token.delta or ""
                 ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 448, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/base/llms/generic_utils.py", line 132, in gen
    for response in chat_response_gen:
                    ^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/llms/callbacks.py", line 188, in wrapped_gen
    for x in f_return_val:
             ^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/llms/ollama/base.py", line 461, in gen
    for r in response:
             ^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/ollama/_client.py", line 179, in inner
    raise ResponseError(e.response.text, e.response.status_code) from None
ollama._types.ResponseError: model 'kmchat-' not found (status code: 404)
2026-01-14 20:02:32 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:03:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:03:18 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:03:40 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:03:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:03:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 20:03:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:04:21 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Colazione leggera', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 20:04:27 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:04:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita nutrizionista' martedì alle 10:30' -> SMART Model
2026-01-14 20:04:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita nutrizionista', 'days': ['Martedì'], 'time': '10:30', 'dependencies': [], 'description': 'Visita nutrizionista'}
2026-01-14 20:04:55 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:04:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 20:05:19 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 20:05:20 [INFO] kmchat.cli - Routing: 'Debug RAG: Diabete di tipo 2' -> SMART Model
2026-01-14 20:05:44 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'Diabete di tipo 2'}
2026-01-14 20:05:52 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:06:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Paolo Verdi'}
2026-01-14 20:06:20 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 20:06:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paziente_01', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:06:40 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 20:06:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 20:07:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Terapia calda' martedì alle 16:00' -> SMART Model
2026-01-14 20:07:21 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Terapia calda', 'days': ['Martedì'], 'time': '16:00', 'dependencies': [], 'description': 'Terapia calda'}
2026-01-14 20:07:24 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:07:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 20:07:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 20:07:52 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:07:52 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 20:08:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 20:08:22 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:08:24 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 20:08:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 20:08:47 [INFO] kmchat.cli - Routing: 'Debug RAG: Mobilizzazione articolare' -> SMART Model
2026-01-14 20:09:11 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'Mobilizzazione articolare'}
2026-01-14 20:09:20 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:09:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:09:49 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 20:10:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 20:10:10 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:10:11 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo 08:00-10:00' -> SMART Model
2026-01-14 20:10:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico mattina intendo 08:00-10:00'}
2026-01-14 20:10:34 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:10:35 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 20:10:56 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 20:10:56 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 20:11:17 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 20:11:18 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 20:11:39 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 20:22:46 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:23:30 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:23:30 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:23:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:23:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:24:12 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 20:24:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:24:34 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Colazione leggera', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 20:24:40 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:24:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita nutrizionista' martedì alle 10:30' -> SMART Model
2026-01-14 20:25:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita nutrizionista', 'days': ['Martedì'], 'time': '10:30', 'dependencies': [], 'description': 'Visita nutrizionista'}
2026-01-14 20:25:09 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:25:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 20:25:33 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 20:25:34 [INFO] kmchat.cli - Routing: 'Debug RAG: Diabete di tipo 2' -> SMART Model
2026-01-14 20:25:58 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'Diabete di tipo 2'}
2026-01-14 20:26:08 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:26:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Paolo Verdi'}
2026-01-14 20:26:36 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 20:26:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:26:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 20:27:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 20:27:15 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Terapia calda' martedì alle 16:00' -> SMART Model
2026-01-14 20:27:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Terapia calda', 'days': ['Martedì'], 'time': '16:00', 'dependencies': [], 'description': 'Terapia calda'}
2026-01-14 20:27:40 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:27:40 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 20:28:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 20:28:08 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:28:09 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 20:28:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 20:28:42 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:28:44 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 20:29:09 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 20:29:10 [INFO] kmchat.cli - Routing: 'Debug RAG: Mobilizzazione articolare' -> SMART Model
2026-01-14 20:29:35 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'Mobilizzazione articolare'}
2026-01-14 20:29:45 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:30:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:30:15 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 20:30:36 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 20:30:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:30:37 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo 08:00-10:00' -> SMART Model
2026-01-14 20:30:59 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico mattina intendo 08:00-10:00'}
2026-01-14 20:31:00 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:31:00 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 20:31:21 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 20:31:21 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 20:31:43 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 20:31:43 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 20:32:05 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 20:40:51 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:41:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:41:35 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:41:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:41:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:42:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 20:42:17 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:42:39 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Colazione leggera', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 20:42:44 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:42:45 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:43:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:43:05 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 20:43:24 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:43:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 20:43:47 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 20:43:51 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:43:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 20:44:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 20:44:14 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:44:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:44:33 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 20:44:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 20:44:57 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:44:58 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:45:26 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:45:27 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 20:45:47 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 20:45:47 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:45:48 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 20:46:08 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 20:46:18 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:46:37 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:46:38 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:46:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:46:56 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:47:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 20:47:16 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:47:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione zuccherata', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione zuccherata'}
2026-01-14 20:47:51 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:47:51 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:48:11 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:48:11 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 20:48:30 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:48:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 20:48:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 20:48:56 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:48:57 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 20:49:18 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 20:49:19 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:49:37 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:49:38 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 20:49:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 20:50:01 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:50:01 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:50:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 20:50:30 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 20:50:50 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 20:50:50 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 20:50:51 [ERROR] kmchat.cli - Err: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = confirm_action_tool()
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 921, in confirm_action_tool
    return _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 560, in _execute_tool
    return save_knowledge_tool(**args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 608, in save_knowledge_tool
    index.insert(doc)
    ~~~~~~~~~~~~^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/base.py", line 239, in insert
    self.insert_nodes(nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 354, in insert_nodes
    self._insert(nodes, **insert_kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 313, in _insert
    self._add_nodes_to_index(self._index_struct, nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 232, in _add_nodes_to_index
    new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/vector_stores/chroma/base.py", line 314, in add
    self._collection.add(
    ~~~~~~~~~~~~~~~~~~~~^
        embeddings=embeddings,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        documents=documents,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 97, in add
    self._client._add(
    ~~~~~~~~~~~~~~~~~^
        collection_id=self.id,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        database=self.database,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/rust.py", line 441, in _add
    return self.bindings.add(
           ~~~~~~~~~~~~~~~~~^
        ids,
        ^^^^
    ...<6 lines>...
        database,
        ^^^^^^^^^
    )
    ^
chromadb.errors.NotFoundError: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
2026-01-14 20:50:51 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 20:51:10 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 20:51:13 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 20:51:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:51:32 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 20:51:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:52:00 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 20:53:12 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 20:53:12 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 20:53:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione zuccherata', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione zuccherata'}
2026-01-14 20:57:46 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 20:57:46 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 20:58:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 20:58:06 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 20:58:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 20:58:25 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 20:59:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 20:59:15 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 20:59:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 20:59:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 20:59:38 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:01:12 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:01:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:01:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:01:35 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:01:36 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:02:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:02:06 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:02:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:02:27 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:02:27 [ERROR] kmchat.cli - Err: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = confirm_action_tool()
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 921, in confirm_action_tool
    return _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 560, in _execute_tool
    return save_knowledge_tool(**args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 608, in save_knowledge_tool
    index.insert(doc)
    ~~~~~~~~~~~~^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/base.py", line 239, in insert
    self.insert_nodes(nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 354, in insert_nodes
    self._insert(nodes, **insert_kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 313, in _insert
    self._add_nodes_to_index(self._index_struct, nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 232, in _add_nodes_to_index
    new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/vector_stores/chroma/base.py", line 314, in add
    self._collection.add(
    ~~~~~~~~~~~~~~~~~~~~^
        embeddings=embeddings,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        documents=documents,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 97, in add
    self._client._add(
    ~~~~~~~~~~~~~~~~~^
        collection_id=self.id,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        database=self.database,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/rust.py", line 441, in _add
    return self.bindings.add(
           ~~~~~~~~~~~~~~~~~^
        ids,
        ^^^^
    ...<6 lines>...
        database,
        ^^^^^^^^^
    )
    ^
chromadb.errors.NotFoundError: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
2026-01-14 21:02:28 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:02:51 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:02:55 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:03:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:03:11 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:03:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:03:21 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:03:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:03:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:03:41 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': '', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 21:03:42 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:03:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:03:52 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:04:06 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:04:16 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:04:16 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:04:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:04:30 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:04:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:04:44 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:04:45 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:04:58 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:05:09 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:05:14 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:05:14 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:05:24 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:05:25 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:05:34 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:05:35 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:05:35 [ERROR] kmchat.cli - Err: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = confirm_action_tool()
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 921, in confirm_action_tool
    return _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 560, in _execute_tool
    return save_knowledge_tool(**args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 608, in save_knowledge_tool
    index.insert(doc)
    ~~~~~~~~~~~~^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/base.py", line 239, in insert
    self.insert_nodes(nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 354, in insert_nodes
    self._insert(nodes, **insert_kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 313, in _insert
    self._add_nodes_to_index(self._index_struct, nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 232, in _add_nodes_to_index
    new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/vector_stores/chroma/base.py", line 314, in add
    self._collection.add(
    ~~~~~~~~~~~~~~~~~~~~^
        embeddings=embeddings,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        documents=documents,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 97, in add
    self._client._add(
    ~~~~~~~~~~~~~~~~~^
        collection_id=self.id,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        database=self.database,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/rust.py", line 441, in _add
    return self.bindings.add(
           ~~~~~~~~~~~~~~~~~^
        ids,
        ^^^^
    ...<6 lines>...
        database,
        ^^^^^^^^^
    )
    ^
chromadb.errors.NotFoundError: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
2026-01-14 21:05:35 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:07:37 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:07:40 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:07:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:07:50 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:07:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:08:00 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:08:09 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:08:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:08:21 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': '', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 21:08:21 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:08:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:08:31 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:08:40 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:08:41 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:08:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:08:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:09:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:09:05 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:09:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:09:17 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:09:17 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:09:26 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:09:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:09:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:09:43 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:09:43 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:09:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:09:54 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:10:04 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:10:05 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:10:05 [ERROR] kmchat.cli - Err: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = confirm_action_tool()
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 921, in confirm_action_tool
    return _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 560, in _execute_tool
    return save_knowledge_tool(**args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 608, in save_knowledge_tool
    index.insert(doc)
    ~~~~~~~~~~~~^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/base.py", line 239, in insert
    self.insert_nodes(nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 354, in insert_nodes
    self._insert(nodes, **insert_kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 313, in _insert
    self._add_nodes_to_index(self._index_struct, nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 232, in _add_nodes_to_index
    new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/vector_stores/chroma/base.py", line 314, in add
    self._collection.add(
    ~~~~~~~~~~~~~~~~~~~~^
        embeddings=embeddings,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        documents=documents,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 97, in add
    self._client._add(
    ~~~~~~~~~~~~~~~~~^
        collection_id=self.id,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        database=self.database,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/rust.py", line 441, in _add
    return self.bindings.add(
           ~~~~~~~~~~~~~~~~~^
        ids,
        ^^^^
    ...<6 lines>...
        database,
        ^^^^^^^^^
    )
    ^
chromadb.errors.NotFoundError: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
2026-01-14 21:10:05 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:10:15 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:10:17 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:10:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:10:27 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:10:37 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:10:37 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:10:47 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:10:47 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:10:58 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': '', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 21:10:59 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:11:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:11:09 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:11:24 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:11:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:11:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:11:46 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:11:50 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:11:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:12:02 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:12:03 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:12:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:12:31 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:12:36 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:12:36 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:12:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:12:47 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:12:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:12:58 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:12:58 [ERROR] kmchat.cli - Err: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1083, in run_agent_step
    res = confirm_action_tool()
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 921, in confirm_action_tool
    return _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 560, in _execute_tool
    return save_knowledge_tool(**args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 608, in save_knowledge_tool
    index.insert(doc)
    ~~~~~~~~~~~~^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/base.py", line 239, in insert
    self.insert_nodes(nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 354, in insert_nodes
    self._insert(nodes, **insert_kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 313, in _insert
    self._add_nodes_to_index(self._index_struct, nodes, **insert_kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/core/indices/vector_store/base.py", line 232, in _add_nodes_to_index
    new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/llama_index/vector_stores/chroma/base.py", line 314, in add
    self._collection.add(
    ~~~~~~~~~~~~~~~~~~~~^
        embeddings=embeddings,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        documents=documents,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/models/Collection.py", line 97, in add
    self._client._add(
    ~~~~~~~~~~~~~~~~~^
        collection_id=self.id,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        database=self.database,
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/venv/lib/python3.13/site-packages/chromadb/api/rust.py", line 441, in _add
    return self.bindings.add(
           ~~~~~~~~~~~~~~~~~^
        ids,
        ^^^^
    ...<6 lines>...
        database,
        ^^^^^^^^^
    )
    ^
chromadb.errors.NotFoundError: Error getting collection: Collection [72aad621-e8af-421e-9b94-bfae66b34cdb] does not exist.
2026-01-14 21:12:59 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:13:09 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:22:20 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:23:03 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:23:03 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:23:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:23:25 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:23:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:23:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:24:07 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Colazione leggera', 'day': 'Lunedì', 'new_name': 'Colazione zuccherata', 'new_time': '08:00'}
2026-01-14 21:24:13 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:24:13 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:24:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:24:34 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:24:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:24:53 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:25:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:25:19 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:25:21 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:25:42 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 21:25:42 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:26:01 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:26:02 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:26:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:26:25 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:26:26 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:26:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:26:55 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:27:15 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:27:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:27:17 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:27:37 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:27:46 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:28:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:28:07 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:28:25 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:28:26 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:28:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:28:45 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:29:07 [INFO] kmchat.cli - Tool: reply Args: {}
2026-01-14 21:29:11 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:29:38 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:29:58 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:29:58 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:30:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:30:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:30:41 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:30:45 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:30:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:31:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 21:31:08 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:31:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:31:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:31:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:31:51 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:31:52 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:32:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:32:20 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:32:41 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:32:41 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:32:42 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:33:01 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:33:09 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:33:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:33:30 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:33:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:33:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:34:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:34:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:34:32 [INFO] kmchat.cli - Tool: reply Args: {}
2026-01-14 21:34:36 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:35:12 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:35:37 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:35:38 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:36:00 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:36:00 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:36:25 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:36:29 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:36:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:36:52 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 21:36:53 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:37:13 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:37:13 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:37:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:37:39 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:37:39 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:38:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:38:09 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:38:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:38:32 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:38:33 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:38:53 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:39:03 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:39:19 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 21:39:19 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:39:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:39:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:39:39 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:39:40 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:39:51 [INFO] kmchat.cli - Tool: modify_activity Args: {'day': 'Lunedì', 'new_name': 'Colazione zuccherata'}
2026-01-14 21:39:51 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 1 required positional argument: 'old_name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1169, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 559, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 1 required positional argument: 'old_name'
2026-01-14 21:39:51 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:40:06 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:40:16 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:40:17 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:40:26 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:40:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:40:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:40:42 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:40:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:40:54 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:40:54 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:41:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:41:04 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:41:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:41:21 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:41:21 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:41:38 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:41:49 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:41:49 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:41:50 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:42:00 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:42:07 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:42:21 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:42:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:42:32 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:42:41 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:42:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:42:53 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione zuccherata', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione zuccherata'}
2026-01-14 21:42:56 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:42:57 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:43:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:43:07 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:43:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:43:17 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:43:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:43:32 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:43:33 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:43:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:43:45 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:43:55 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:43:55 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:44:06 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:44:09 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:44:10 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:44:25 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:44:36 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:44:36 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:44:37 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:44:47 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:44:53 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:45:08 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:45:18 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:45:19 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:45:29 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:45:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione zuccherata' lunedì alle 08:00' -> SMART Model
2026-01-14 21:45:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione zuccherata', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione zuccherata'}
2026-01-14 21:45:44 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:45:44 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:45:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:45:55 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:46:04 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:46:05 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:46:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:46:19 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:46:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:46:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 21:46:32 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:46:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:46:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:46:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:46:56 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:46:57 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:47:12 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:47:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:47:23 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:47:24 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:47:34 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:54:04 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:54:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:54:47 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 21:55:09 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:55:09 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 21:55:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 21:55:29 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 21:55:50 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Spuntino dolce', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Spuntino dolce'}
2026-01-14 21:55:55 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:55:56 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:56:16 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 21:56:16 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 21:56:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:56:36 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 21:56:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 21:57:02 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 21:57:03 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 21:57:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 21:57:24 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 21:57:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:57:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 21:58:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 21:58:08 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 21:58:08 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:58:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 21:58:37 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 21:58:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 21:58:58 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 21:58:59 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 21:59:19 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 21:59:29 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 21:59:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 21:59:49 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:00:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:00:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 22:00:26 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 22:00:27 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:00:48 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Spuntino dolce', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Spuntino dolce'}
2026-01-14 22:00:54 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:00:54 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:01:14 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:01:15 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:01:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:01:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 22:01:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:02:01 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 22:02:02 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 22:02:23 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:02:24 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:02:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:02:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:03:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:03:07 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:03:08 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:03:36 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 22:03:37 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:03:57 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 22:03:58 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 22:03:59 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 22:04:18 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 22:04:26 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:04:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:04:46 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:05:05 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:05:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 22:05:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 22:05:24 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:05:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Spuntino dolce', 'days': ['Lunedì'], 'time': '08:00', 'dependencies': [], 'description': 'Spuntino dolce'}
2026-01-14 22:05:51 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:05:52 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:06:12 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:06:12 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:06:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:06:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 22:06:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì', 'Giovedì', 'Venerdì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:06:58 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 22:06:59 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 22:07:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:07:22 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:07:40 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:07:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:08:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:08:05 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:08:06 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:08:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 22:08:35 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:08:55 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 22:08:56 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 22:08:58 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 22:09:17 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 22:09:25 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:09:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 22:09:41 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:09:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:09:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 22:10:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 22:10:02 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:10:13 [INFO] kmchat.cli - Tool: modify_activity Args: {'day': 'Lunedì', 'new_time': '08:00'}
2026-01-14 22:10:13 [ERROR] kmchat.cli - Err: modify_activity_tool() missing 1 required positional argument: 'old_name'
Traceback (most recent call last):
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 1169, in run_agent_step
    res = _execute_tool(tname, args)
  File "/Users/eldemaster/Documents/Uni/Digital Transformation/FinalProject/KMChat/src/main.py", line 559, in _execute_tool
    return modify_activity_tool(**args)
TypeError: modify_activity_tool() missing 1 required positional argument: 'old_name'
2026-01-14 22:10:13 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:10:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:10:24 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:10:38 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:10:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:10:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 22:11:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:11:03 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 22:11:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 22:11:17 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 22:11:17 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:11:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:11:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:11:49 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:11:50 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:12:00 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:12:01 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:12:11 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 22:12:11 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 22:12:12 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 22:12:22 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 22:12:28 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:12:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:12:39 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:12:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:12:49 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 22:12:58 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 22:12:59 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:13:10 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': '', 'day': 'Lunedì', 'new_name': 'Spuntino dolce', 'new_time': '08:00'}
2026-01-14 22:13:10 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:13:24 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:13:39 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:13:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:13:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 22:14:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:14:04 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 22:14:05 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 22:14:16 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 22:14:17 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:14:31 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:14:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:14:46 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:14:46 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:14:56 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:14:57 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:15:07 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 22:15:07 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 22:15:08 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 22:15:18 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 22:15:24 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:15:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:15:35 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:15:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:15:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 22:15:55 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 22:15:55 [INFO] kmchat.cli - Routing: 'Aggiungi nuova attività distinta 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:16:06 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': '', 'day': 'Lunedì', 'new_name': 'Spuntino dolce', 'new_time': '08:00'}
2026-01-14 22:16:07 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:16:20 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:16:35 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:16:45 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:16:46 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo fisioterapico' mercoledì alle 11:00 per i prossimi 3 giorni' -> SMART Model
2026-01-14 22:16:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:17:00 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 22:17:01 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 22:17:12 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 22:17:13 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-14 22:17:26 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:17:38 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:17:42 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 22:17:43 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-14 22:17:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-14 22:17:54 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:18:03 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere FANS'}
2026-01-14 22:18:04 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 22:18:05 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve assumere FANS' -> SMART Model
2026-01-14 22:18:14 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve assumere FANS'}
2026-01-14 22:30:46 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:31:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario_Rossi'}
2026-01-14 22:31:29 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 22:31:51 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'FANS non consentiti per il paziente'}
2026-01-14 22:31:52 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:31:53 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 22:32:13 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 22:32:19 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:32:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:32:40 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 22:33:09 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 22:33:36 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 22:33:57 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera è 21:00'}
2026-01-14 22:34:07 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 22:34:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Paolo Verdi'}
2026-01-14 22:34:35 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 22:34:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:35:00 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 22:35:01 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 22:35:01 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 22:35:02 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 22:35:02 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 22:35:03 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 22:35:03 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 22:35:04 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 22:35:04 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:35:05 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 22:35:26 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:35:26 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 22:35:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario Rossi'}
2026-01-14 22:35:54 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:36:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:36:20 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 22:36:20 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 22:36:21 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 22:36:21 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:36:22 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 22:36:22 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:36:23 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 22:36:23 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 22:36:24 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:36:24 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 22:36:25 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:36:25 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 22:36:26 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 22:36:47 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:36:48 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:37:08 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:37:12 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 22:37:13 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 22:37:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 22:37:34 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 22:37:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:37:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:38:15 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:38:18 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 22:38:19 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 22:38:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:38:39 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 22:38:58 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:38:59 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 22:39:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:39:24 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 22:39:24 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 22:39:25 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:39:25 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:39:26 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 22:39:26 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 22:39:29 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:39:30 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 22:39:30 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:39:32 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 22:39:52 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 22:39:59 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:40:19 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:40:19 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 22:40:47 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 22:41:07 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 22:41:07 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 22:41:27 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera è 21:00'}
2026-01-14 22:41:35 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 22:41:55 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:41:55 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 22:42:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:42:19 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 22:42:20 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 22:42:20 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 22:42:21 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 22:42:21 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 22:42:22 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 22:42:22 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 22:42:23 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 22:42:23 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:42:24 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 22:42:45 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:42:46 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 22:43:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario Rossi'}
2026-01-14 22:43:15 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:43:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:43:43 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 22:43:43 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 22:43:44 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 22:43:44 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:43:45 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 22:43:45 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:43:46 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 22:43:46 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 22:43:47 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:43:47 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 22:43:48 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:43:48 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 22:43:49 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 22:44:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:44:10 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:44:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:44:35 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 22:44:36 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 22:44:58 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 22:44:58 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 22:45:17 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:45:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:45:39 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:45:43 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 22:45:43 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 22:46:03 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:46:03 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 22:46:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:46:23 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 22:46:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:46:48 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 22:46:49 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 22:46:49 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:46:50 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:46:50 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 22:46:51 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 22:46:54 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:46:54 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 22:46:55 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:46:55 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 22:47:16 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 22:47:22 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:47:42 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:47:43 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 22:48:11 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 22:48:30 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 22:48:31 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 22:48:50 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera è 21:00'}
2026-01-14 22:49:00 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 22:49:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:49:21 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 22:49:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:49:46 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 22:49:46 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 22:49:47 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 22:49:47 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 22:49:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 22:49:48 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 22:49:49 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 22:49:49 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 22:49:50 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:49:51 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 22:50:11 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:50:12 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 22:50:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario Rossi'}
2026-01-14 22:50:39 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:51:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:51:05 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 22:51:06 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 22:51:06 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 22:51:07 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:51:07 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 22:51:08 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:51:08 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 22:51:09 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 22:51:09 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:51:10 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 22:51:10 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:51:11 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 22:51:11 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 22:51:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:51:33 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:51:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:51:58 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 22:51:59 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 22:52:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 22:52:22 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 22:52:41 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:52:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 22:53:04 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:53:07 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 22:53:08 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 22:53:28 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:53:28 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 22:53:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:53:48 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 22:54:10 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 22:54:14 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 22:54:14 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 22:54:15 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:54:15 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 22:54:16 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 22:54:16 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 22:54:19 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 22:54:20 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 22:54:20 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:54:21 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 22:54:41 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 22:54:48 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 22:55:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:55:09 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 22:55:36 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 22:55:56 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 22:55:57 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 22:56:17 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera è 21:00'}
2026-01-14 22:56:27 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 22:56:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:56:47 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 22:57:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 22:57:11 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 22:57:11 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 22:57:12 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 22:57:12 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 22:57:13 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 22:57:13 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 22:57:14 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 22:57:14 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 22:57:15 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 22:57:16 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 22:57:37 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 22:57:37 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 22:58:05 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario Rossi'}
2026-01-14 22:58:05 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:58:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:58:31 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 22:58:32 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 22:58:32 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 22:58:33 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:58:33 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 22:58:34 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:58:34 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 22:58:35 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 22:58:35 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 22:58:36 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 22:58:36 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 22:58:37 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 22:58:37 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 22:58:58 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 22:58:58 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 22:59:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 22:59:23 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 22:59:24 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 22:59:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 22:59:47 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:00:05 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:00:06 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:00:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:00:31 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:00:31 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:00:51 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:00:51 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:01:11 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:01:11 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:01:33 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:01:37 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:01:38 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:01:38 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:01:39 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:01:39 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:01:40 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:01:43 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:01:44 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:01:44 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:01:45 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:02:06 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:02:13 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:02:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:02:34 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:03:02 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:03:22 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:03:23 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:03:43 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera è 21:00'}
2026-01-14 23:03:54 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:04:14 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:04:14 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:04:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:04:39 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:04:39 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:04:40 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:04:40 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:04:41 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:04:41 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:04:42 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:04:42 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:04:43 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:04:44 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:05:06 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 23:05:06 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:05:33 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'Mario Rossi'}
2026-01-14 23:05:34 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:05:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:06:00 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:06:01 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:06:01 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:06:02 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:06:02 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:06:03 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:06:03 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:06:04 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:06:04 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:06:05 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:06:05 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:06:06 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:06:06 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:06:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:06:27 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:06:49 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:06:52 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:06:53 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:07:15 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 23:07:16 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:07:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi'}
2026-01-14 23:07:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:07:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:08:00 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:08:00 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:08:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:08:21 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:08:40 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:08:41 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:09:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:09:06 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:09:06 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:09:07 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:09:07 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:09:08 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:09:08 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:09:12 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:09:12 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:09:13 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:09:13 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:09:29 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:09:32 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:09:42 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:09:43 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:09:57 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:10:08 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:10:08 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:10:18 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera e" 21:00'}
2026-01-14 23:10:21 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:10:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:10:31 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:10:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:10:46 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:10:46 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:10:47 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:10:47 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:10:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:10:48 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:10:49 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:10:49 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:10:50 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:10:50 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:11:01 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 23:11:02 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:11:11 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:11:12 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:11:22 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:11:26 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:11:27 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:11:27 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:11:28 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:11:28 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:11:29 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:11:29 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:11:30 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:11:30 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:11:31 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:11:31 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:11:32 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:11:32 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:11:42 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:11:43 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:11:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:11:58 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:12:00 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:12:11 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-14 23:12:11 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:12:21 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:12:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:12:32 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:12:36 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:12:36 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:12:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:12:47 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:12:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:12:57 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:13:08 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:13:12 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:13:13 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:13:13 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:13:14 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:13:14 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:13:15 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:13:18 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:13:18 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:13:19 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:13:19 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:13:30 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:13:33 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:13:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:13:44 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:14:00 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:14:11 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:14:12 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:14:22 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera e" 21:00'}
2026-01-14 23:14:24 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:14:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:14:35 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:14:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:14:49 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:14:50 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:14:50 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:14:51 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:14:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:14:52 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:14:52 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:14:53 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:14:53 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:14:54 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:15:05 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 23:15:05 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:15:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:15:15 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:15:26 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:15:30 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:15:30 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:15:31 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:15:31 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:15:32 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:15:32 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:15:33 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:15:33 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:15:34 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:15:34 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:15:35 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:15:35 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:15:36 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:15:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 23:15:46 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:15:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:16:01 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:16:01 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:16:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 23:16:14 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:16:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_01'}
2026-01-14 23:16:24 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:16:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:16:39 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:16:39 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:16:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_01'}
2026-01-14 23:16:50 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:17:00 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:17:00 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:17:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:17:15 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:17:16 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:17:16 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:17:17 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:17:17 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:17:18 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:17:21 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:17:21 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:17:22 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:17:22 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:17:33 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:17:36 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:17:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:17:46 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:18:01 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:18:11 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:18:12 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:18:22 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera e" 21:00'}
2026-01-14 23:18:25 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:18:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:18:35 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:18:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:18:49 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:18:50 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:18:50 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:18:51 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:18:51 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:18:52 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:18:52 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:18:53 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:18:53 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:18:54 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:19:05 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 23:19:05 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:19:15 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:19:15 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:19:27 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:19:30 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:19:30 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:19:31 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:19:31 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:19:32 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:19:32 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:19:33 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:19:33 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:19:34 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:19:34 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:19:35 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:19:35 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:19:36 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:19:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'maria_01'}
2026-01-14 23:19:47 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:19:58 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:20:01 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:20:02 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:20:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 23:20:14 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:20:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_01'}
2026-01-14 23:20:24 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:20:35 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:20:39 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:20:39 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:20:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_01'}
2026-01-14 23:20:50 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:20:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:21:00 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:21:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:21:17 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:21:18 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:21:18 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:21:19 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:21:19 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:21:20 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:21:23 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:21:23 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:21:24 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:21:24 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:21:35 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:21:38 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:21:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:21:49 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:22:04 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:22:15 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:22:15 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:22:25 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera e" 21:00'}
2026-01-14 23:22:28 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:22:38 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:22:39 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:22:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:22:56 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:22:57 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:22:57 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:22:58 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:22:58 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:22:59 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:22:59 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:23:00 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:23:00 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:23:01 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:23:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 23:23:13 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:23:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:23:23 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:23:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:23:38 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:23:39 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:23:39 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:23:40 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:23:40 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:23:41 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:23:41 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:23:42 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:23:42 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:23:43 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:23:43 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:23:44 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:23:44 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:23:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:23:55 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:24:06 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:24:09 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:24:10 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:24:21 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-14 23:24:21 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:24:31 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:24:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:24:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:24:46 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:24:47 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:24:57 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:24:57 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:25:07 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:25:07 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:25:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:25:22 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:25:23 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:25:23 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:25:24 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:25:24 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:25:25 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:25:28 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:25:28 [INFO] kmchat.cli - Routing: 'FANS non consentiti per il paziente' -> SMART Model
2026-01-14 23:25:29 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:25:29 [INFO] kmchat.cli - Routing: 'Debug RAG: non deve prendere FANS' -> SMART Model
2026-01-14 23:25:40 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'non deve prendere FANS'}
2026-01-14 23:25:43 [INFO] kmchat.cli - Routing: 'Passa al caregiver Maria Rossi' -> SMART Model
2026-01-14 23:25:53 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:25:54 [INFO] kmchat.cli - Routing: 'Intendo sera alle 21:00' -> SMART Model
2026-01-14 23:26:09 [INFO] kmchat.cli - Routing: 'Sì' -> SMART Model
2026-01-14 23:26:20 [INFO] kmchat.cli - Tool: confirm_action Args: {}
2026-01-14 23:26:20 [INFO] kmchat.cli - Routing: 'Debug RAG: sera e' 21:00' -> SMART Model
2026-01-14 23:26:30 [INFO] kmchat.cli - Tool: debug_rag Args: {'query': 'sera e" 21:00'}
2026-01-14 23:26:33 [INFO] kmchat.cli - Routing: 'Apri Paolo Verdi' -> SMART Model
2026-01-14 23:26:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:26:43 [INFO] kmchat.cli - Routing: 'Aggiungi Stretching leggero per lunedì alle 10:00' -> SMART Model
2026-01-14 23:26:54 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:26:58 [INFO] kmchat.cli - Routing: 'No grazie' -> SMART Model
2026-01-14 23:26:58 [INFO] kmchat.cli - Routing: 'Metti Paolo Verdi' -> SMART Model
2026-01-14 23:26:59 [INFO] kmchat.cli - Routing: 'Che attività ha il giovedì?' -> SMART Model
2026-01-14 23:26:59 [INFO] kmchat.cli - Routing: 'Imposta Mario Rossi' -> SMART Model
2026-01-14 23:27:00 [INFO] kmchat.cli - Routing: 'Dimmi le attività di venerdì' -> SMART Model
2026-01-14 23:27:00 [INFO] kmchat.cli - Routing: 'Imposta il paziente Paolo Verdi' -> SMART Model
2026-01-14 23:27:01 [INFO] kmchat.cli - Routing: 'Imposta il caregiver Maria Rossi' -> SMART Model
2026-01-14 23:27:01 [INFO] kmchat.cli - Routing: 'Inserisci attività Controllo fisioterapico mercoledì alle 11:00 per tre giorni' -> SMART Model
2026-01-14 23:27:02 [INFO] kmchat.cli - Routing: 'Ok' -> SMART Model
2026-01-14 23:27:02 [INFO] kmchat.cli - Routing: 'Quali attività ci sono mercoledì?' -> SMART Model
2026-01-14 23:27:13 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledð'}
2026-01-14 23:27:14 [INFO] kmchat.cli - Routing: 'Imposta paziente Mario Rossi' -> SMART Model
2026-01-14 23:27:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:27:23 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:27:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:27:38 [INFO] kmchat.cli - Routing: 'Conferma pure' -> SMART Model
2026-01-14 23:27:39 [INFO] kmchat.cli - Routing: 'Programma del martedì' -> SMART Model
2026-01-14 23:27:39 [INFO] kmchat.cli - Routing: 'Usa paziente Mario Rossi' -> SMART Model
2026-01-14 23:27:40 [INFO] kmchat.cli - Routing: 'Scegli caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:27:40 [INFO] kmchat.cli - Routing: 'Attività previste per lunedì' -> SMART Model
2026-01-14 23:27:41 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:27:41 [INFO] kmchat.cli - Routing: 'Annulla l'azione' -> SMART Model
2026-01-14 23:27:42 [INFO] kmchat.cli - Routing: 'Seleziona il paziente Mario Rossi' -> SMART Model
2026-01-14 23:27:42 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-14 23:27:43 [INFO] kmchat.cli - Routing: 'Programma del lunedì' -> SMART Model
2026-01-14 23:27:43 [INFO] kmchat.cli - Routing: 'Metti 'Spuntino dolce' lunedì alle 08:00' -> SMART Model
2026-01-14 23:27:44 [INFO] kmchat.cli - Routing: 'Cancella' -> SMART Model
2026-01-14 23:27:44 [INFO] kmchat.cli - Routing: 'Seleziona Mario Rossi' -> SMART Model
2026-01-14 23:27:55 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:27:55 [INFO] kmchat.cli - Routing: 'Aggiungi Controllo pressione martedì ore 09:00 per 2 giorni' -> SMART Model
2026-01-14 23:28:06 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:28:10 [INFO] kmchat.cli - Routing: 'Si' -> SMART Model
2026-01-14 23:28:10 [INFO] kmchat.cli - Routing: 'Quali attività ci sono martedì?' -> SMART Model
2026-01-14 23:28:22 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedò'}
2026-01-14 23:28:22 [INFO] kmchat.cli - Routing: 'Cambia paziente in Paolo Verdi' -> SMART Model
2026-01-14 23:28:32 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:28:32 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Stretching leggero' lunedì alle 10:00' -> SMART Model
2026-01-14 23:28:43 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Stretching leggero', 'days': ['Lunedì'], 'time': '10:00', 'dependencies': [], 'description': 'Stretching leggero'}
2026-01-14 23:28:47 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:28:48 [INFO] kmchat.cli - Routing: 'Apri profilo di Paolo Verdi' -> SMART Model
2026-01-14 23:28:58 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:28:58 [INFO] kmchat.cli - Routing: 'Attiva contesto caregiver Maria Rossi' -> SMART Model
2026-01-14 23:29:08 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'maria_rossi'}
2026-01-14 23:29:09 [INFO] kmchat.cli - Routing: 'Crea attività Controllo fisioterapico mercoledì alle 11:00 per 3 giorni' -> SMART Model
2026-01-14 23:29:20 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo fisioterapico', 'days': ['Mercoledì'], 'time': '11:00', 'duration_days': 3, 'dependencies': [], 'description': 'Controllo fisioterapico'}
2026-01-14 23:29:23 [INFO] kmchat.cli - Routing: 'Vai avanti' -> SMART Model
2026-01-14 23:29:23 [INFO] kmchat.cli - Routing: 'Attività previste per mercoledì' -> SMART Model
2026-01-14 23:29:24 [INFO] kmchat.cli - Routing: 'Usa Mario Rossi' -> SMART Model
2026-01-14 23:29:24 [INFO] kmchat.cli - Routing: 'Da oggi il paziente non deve assumere FANS' -> SMART Model
2026-01-14 23:29:25 [INFO] kmchat.cli - Routing: 'Sì, salva' -> SMART Model
2026-01-14 23:29:25 [INFO] kmchat.cli - Routing: 'Debug RAG: FANS vietati' -> SMART Model
2026-01-14 23:34:46 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:35:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:35:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 23:35:41 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 23:35:42 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> SMART Model
2026-01-14 23:36:02 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-14 23:36:03 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:36:04 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 23:36:24 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 23:36:24 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:36:43 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:36:43 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> SMART Model
2026-01-14 23:37:05 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-14 23:37:06 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:37:07 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> SMART Model
2026-01-14 23:37:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-14 23:37:29 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 23:37:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 23:37:51 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 23:37:52 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:38:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:38:11 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> SMART Model
2026-01-14 23:38:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-14 23:38:32 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:38:33 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 23:38:53 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 23:38:54 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> SMART Model
2026-01-14 23:39:15 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-14 23:39:15 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> SMART Model
2026-01-14 23:39:37 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-14 23:39:40 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:39:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 23:40:03 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 23:40:03 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:40:22 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:40:23 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> SMART Model
2026-01-14 23:40:44 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-14 23:40:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> SMART Model
2026-01-14 23:41:07 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-14 23:41:11 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 23:41:11 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> SMART Model
2026-01-14 23:41:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-14 23:41:34 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:41:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:41:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> SMART Model
2026-01-14 23:42:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-14 23:42:19 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:42:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> SMART Model
2026-01-14 23:42:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-14 23:42:48 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:42:50 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> SMART Model
2026-01-14 23:43:13 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-14 23:43:14 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:43:14 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:43:34 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:43:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> SMART Model
2026-01-14 23:43:56 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-14 23:43:59 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:44:01 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> SMART Model
2026-01-14 23:44:25 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-14 23:44:29 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:44:30 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 23:44:53 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 23:44:53 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:45:11 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:45:12 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-14 23:45:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-14 23:45:34 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> SMART Model
2026-01-14 23:45:57 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-14 23:46:01 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-14 23:46:02 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-14 23:46:25 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-14 23:46:26 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> SMART Model
2026-01-14 23:46:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-14 23:46:46 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:46:47 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> SMART Model
2026-01-14 23:47:07 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-14 23:47:08 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:47:09 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 23:47:29 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 23:47:30 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> SMART Model
2026-01-14 23:47:49 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-14 23:47:50 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:47:51 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> SMART Model
2026-01-14 23:48:11 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-14 23:48:11 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:48:12 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 23:48:33 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 23:48:33 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-14 23:48:52 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-14 23:48:52 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 23:49:12 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-14 23:49:12 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-14 23:49:31 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-14 23:49:31 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> SMART Model
2026-01-14 23:49:50 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-14 23:49:51 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> SMART Model
2026-01-14 23:50:10 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-14 23:50:11 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> SMART Model
2026-01-14 23:50:29 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-14 23:50:30 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 23:50:48 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 23:50:48 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> SMART Model
2026-01-14 23:51:07 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-14 23:51:08 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-14 23:51:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-14 23:51:33 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:51:34 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-14 23:51:55 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-14 23:51:55 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> SMART Model
2026-01-14 23:52:16 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '08:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-14 23:52:19 [INFO] kmchat.cli - Routing: 'A che ora?' -> SMART Model
2026-01-14 23:52:20 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> SMART Model
2026-01-14 23:52:20 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:52:22 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-14 23:52:43 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-14 23:52:44 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> SMART Model
2026-01-14 23:53:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-14 23:53:09 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:53:10 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> SMART Model
2026-01-14 23:53:33 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-14 23:53:38 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-14 23:53:41 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> SMART Model
2026-01-14 23:54:04 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-14 23:54:04 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-14 23:54:05 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> SMART Model
2026-01-14 23:54:26 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-14 23:54:26 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-14 23:54:27 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-14 23:54:47 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-14 23:54:48 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-14 23:55:06 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 08:35:10 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 08:35:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 08:36:05 [INFO] kmchat.cli - Routing: 'Passa al paziente Mario Rossi' -> SMART Model
2026-01-15 08:36:27 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_01'}
2026-01-15 08:36:31 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-15 08:36:54 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-15 08:37:10 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 08:37:32 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 08:38:15 [INFO] kmchat.cli - Routing: 'Passa al paziente Paolo Verdi' -> SMART Model
2026-01-15 08:38:39 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'paolo_verdi', 'caregiver_id': 'andrea_bianchi'}
2026-01-15 08:39:10 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 08:39:34 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 08:41:00 [INFO] kmchat.cli - Routing: 'passa al paziente TestAuto1' -> SMART Model
2026-01-15 08:41:49 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1'}
2026-01-15 08:42:04 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 08:42:36 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 08:43:06 [INFO] kmchat.cli - Routing: 'modifica l'attività Controllo pressione' -> SMART Model
2026-01-15 08:44:18 [INFO] kmchat.cli - Routing: 'martedì alle 11:30' -> SMART Model
2026-01-15 08:44:51 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Controllo pressione', 'day': 'Martedì', 'new_time': '11:30'}
2026-01-15 08:46:20 [INFO] kmchat.cli - Routing: 'conferma' -> SMART Model
2026-01-15 08:48:59 [INFO] kmchat.cli - Routing: 'aggiungi attività "Farmaco pressione" per martedì alle 12 con dipendenza "Controllo pressione" con descrizione "Solo se pressione alta"' -> SMART Model
2026-01-15 08:49:34 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco pressione', 'days': ['Martedì'], 'time': '12:00', 'dependencies': ['Controllo pressione'], 'description': 'Solo se pressione alta'}
2026-01-15 08:52:11 [INFO] kmchat.cli - Routing: 'conferma' -> SMART Model
2026-01-15 09:02:29 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:03:06 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:03:06 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:03:28 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:03:29 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Lettura libro' lunedì alle 16:00' -> SMART Model
2026-01-15 09:03:51 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Lettura libro', 'days': ['Lunedì'], 'time': '16:00', 'dependencies': [], 'description': 'Lettura libro'}
2026-01-15 09:03:51 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:03:53 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:04:14 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:04:14 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:04:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:04:35 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> SMART Model
2026-01-15 09:05:00 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-15 09:05:00 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:05:02 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita Infermieristica' martedì alle 10:15' -> SMART Model
2026-01-15 09:05:24 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita Infermieristica', 'days': ['Martedì'], 'time': '10:15', 'dependencies': [], 'description': 'Visita Infermieristica'}
2026-01-15 09:05:24 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-15 09:05:25 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 09:05:49 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 09:05:49 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:06:10 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:06:10 [INFO] kmchat.cli - Routing: 'Il paziente non può bere latte a colazione' -> SMART Model
2026-01-15 09:06:33 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non può bere latte a colazione'}
2026-01-15 09:06:34 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:06:35 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-15 09:06:56 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-15 09:06:56 [INFO] kmchat.cli - Routing: 'Quando dico 'sera' intendo le ore 21:00' -> SMART Model
2026-01-15 09:07:18 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico 'sera' intendo le ore 21:00"}
2026-01-15 09:07:18 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camomilla' mercoledì di sera' -> SMART Model
2026-01-15 09:07:40 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camomilla', 'days': ['Mercoledì'], 'time': '21:00', 'dependencies': [], 'description': 'Camomilla'}
2026-01-15 09:07:43 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:07:45 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-15 09:08:07 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-15 09:08:07 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:08:26 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:08:26 [INFO] kmchat.cli - Routing: 'Il paziente ha il diabete di tipo 1' -> SMART Model
2026-01-15 09:08:47 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente ha il diabete di tipo 1'}
2026-01-15 09:08:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Merenda con Torta' giovedì alle 16:00' -> SMART Model
2026-01-15 09:09:12 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Merenda con Torta', 'days': ['Giovedì'], 'time': '16:00', 'dependencies': [], 'description': 'Merenda con Torta'}
2026-01-15 09:09:15 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-15 09:09:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> SMART Model
2026-01-15 09:09:39 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-15 09:09:39 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:09:59 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:09:59 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola A' venerdì alle 08:00' -> SMART Model
2026-01-15 09:10:21 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Pillola A'}
2026-01-15 09:10:25 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:10:27 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Pillola B' venerdì alle 08:30 con dipendenza Pillola A' -> SMART Model
2026-01-15 09:10:55 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Pillola B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Pillola A'], 'force': False, 'description': 'Pillola B'}
2026-01-15 09:10:58 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:11:01 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Pillola A' di venerdì' -> SMART Model
2026-01-15 09:11:26 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Pillola A', 'day': 'Venerdì'}
2026-01-15 09:11:26 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-15 09:11:27 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:11:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:11:48 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Camminata' lunedì alle 18:00' -> SMART Model
2026-01-15 09:12:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Camminata'}
2026-01-15 09:12:14 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:12:16 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Camminata di lunedì con 'Cyclette al chiuso' alle 18:00' -> SMART Model
2026-01-15 09:12:41 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Camminata', 'day': 'Lunedì', 'new_name': 'Cyclette al chiuso', 'new_time': '18:00'}
2026-01-15 09:12:44 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:12:46 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:13:09 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:13:09 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:13:29 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:13:29 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-15 09:13:54 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-15 09:13:54 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> SMART Model
2026-01-15 09:14:18 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-15 09:14:23 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-15 09:14:24 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:14:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:14:48 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> SMART Model
2026-01-15 09:15:09 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-15 09:15:10 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:15:11 [INFO] kmchat.cli - Routing: 'Oggi visita anticipata alle 14:00' -> SMART Model
2026-01-15 09:15:32 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Oggi visita anticipata alle 14:00'}
2026-01-15 09:15:33 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:15:34 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:15:54 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:15:55 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> SMART Model
2026-01-15 09:16:15 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-15 09:16:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:16:17 [INFO] kmchat.cli - Routing: 'Da oggi Aulin intendo la supposta' -> SMART Model
2026-01-15 09:16:37 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Da oggi Aulin intendo la supposta'}
2026-01-15 09:16:38 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:16:39 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:16:59 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:17:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:17:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:17:21 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-15 09:17:44 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 09:17:45 [INFO] kmchat.cli - Routing: 'Quali sono le condizioni del paziente?' -> SMART Model
2026-01-15 09:18:06 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'conditions'}
2026-01-15 09:18:06 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze del paziente?' -> SMART Model
2026-01-15 09:18:27 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'preferences'}
2026-01-15 09:18:28 [INFO] kmchat.cli - Routing: 'Quali sono le abitudini del paziente?' -> SMART Model
2026-01-15 09:18:50 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'habits'}
2026-01-15 09:18:50 [INFO] kmchat.cli - Routing: 'Quali sono le note del paziente?' -> SMART Model
2026-01-15 09:19:11 [INFO] kmchat.cli - Tool: get_patient_info Args: {'category': 'notes'}
2026-01-15 09:19:11 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:19:31 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:19:32 [INFO] kmchat.cli - Routing: 'Quali sono le preferenze semantiche del caregiver?' -> SMART Model
2026-01-15 09:19:54 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'preferences'}
2026-01-15 09:19:55 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-15 09:20:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-15 09:20:23 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:20:27 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 09:20:48 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 09:20:49 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Ossigenoterapia' mercoledì' -> SMART Model
2026-01-15 09:21:11 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Ossigenoterapia', 'days': ['Mercoledì'], 'time': '08:00', 'dependencies': [], 'description': 'Ossigenoterapia'}
2026-01-15 09:21:15 [INFO] kmchat.cli - Routing: 'Alle 11:00' -> SMART Model
2026-01-15 09:21:16 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:21:18 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-15 09:21:40 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-15 09:21:41 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Colazione' giovedì alle 08:00' -> SMART Model
2026-01-15 09:22:03 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Colazione', 'days': ['Giovedì'], 'time': '08:00', 'dependencies': [], 'description': 'Colazione'}
2026-01-15 09:22:09 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:22:11 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Farmaco X' giovedì alle 08:30 con dipendenza Colazione' -> SMART Model
2026-01-15 09:22:36 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Farmaco X', 'days': ['Giovedì'], 'time': '08:30', 'dependencies': ['Colazione'], 'description': 'Farmaco X'}
2026-01-15 09:22:41 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:22:44 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Colazione' di giovedì' -> SMART Model
2026-01-15 09:23:07 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Colazione', 'day': 'Giovedì'}
2026-01-15 09:23:08 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-15 09:23:09 [INFO] kmchat.cli - Routing: 'Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00' -> SMART Model
2026-01-15 09:23:31 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': "Quando dico mattina intendo l'intervallo tra le 08:00 e le 10:00"}
2026-01-15 09:23:32 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:23:34 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:23:54 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:23:55 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-15 09:24:15 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 09:24:15 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:24:35 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:24:36 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Fisioterapia' martedì alle 10:00' -> SMART Model
2026-01-15 09:24:59 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Fisioterapia', 'days': ['Martedì'], 'time': '10:00', 'dependencies': [], 'description': 'Fisioterapia'}
2026-01-15 09:25:02 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:25:03 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Visita infermieristica' martedì alle 10:30' -> SMART Model
2026-01-15 09:25:29 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Visita infermieristica', 'days': ['Martedì'], 'time': '10:30', 'dependencies': [], 'description': 'Visita infermieristica'}
2026-01-15 09:25:34 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-15 09:25:34 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 09:25:59 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 09:26:00 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:26:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:26:21 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Prendere pastiglia A' venerdì alle 08:00' -> SMART Model
2026-01-15 09:26:45 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Prendere pastiglia A', 'days': ['Venerdì'], 'time': '08:00', 'dependencies': [], 'description': 'Prendere pastiglia A'}
2026-01-15 09:26:49 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:26:51 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Prendere pastiglia B' venerdì alle 08:30 con dipendenza Prendere pastiglia A' -> SMART Model
2026-01-15 09:27:19 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Prendere pastiglia B', 'days': ['Venerdì'], 'time': '08:30', 'dependencies': ['Prendere pastiglia A'], 'description': 'Prendere pastiglia B'}
2026-01-15 09:27:27 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:27:30 [INFO] kmchat.cli - Routing: 'Rimuovi attività 'Prendere pastiglia A' di venerdì' -> SMART Model
2026-01-15 09:27:56 [INFO] kmchat.cli - Tool: delete_activity Args: {'name': 'Prendere pastiglia A', 'day': 'Venerdì'}
2026-01-15 09:27:57 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-15 09:27:57 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:28:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:28:20 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Uscire a fare una camminata' lunedì alle 18:00' -> SMART Model
2026-01-15 09:28:42 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Uscire a fare una camminata', 'days': ['Lunedì'], 'time': '18:00', 'dependencies': [], 'description': 'Uscire a fare una camminata'}
2026-01-15 09:28:46 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:28:48 [INFO] kmchat.cli - Routing: 'Sostituisci l'attività Uscire a fare una camminata di lunedì con 'Fare cyclette al chiuso' alle 18:00' -> SMART Model
2026-01-15 09:29:15 [INFO] kmchat.cli - Tool: modify_activity Args: {'old_name': 'Uscire a fare una camminata', 'day': 'Lunedì', 'new_name': 'Fare cyclette al chiuso', 'new_time': '18:00'}
2026-01-15 09:29:19 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:29:20 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:29:46 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:29:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:30:11 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:30:12 [INFO] kmchat.cli - Routing: 'Il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-15 09:30:35 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-15 09:30:36 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Assunzione farmaci con acqua' lunedì alle 12:00' -> SMART Model
2026-01-15 09:31:01 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Assunzione farmaci con acqua', 'days': ['Lunedì'], 'time': '12:00', 'dependencies': [], 'description': 'Assunzione farmaci con acqua'}
2026-01-15 09:31:06 [INFO] kmchat.cli - Routing: 'No' -> SMART Model
2026-01-15 09:31:07 [INFO] kmchat.cli - Routing: 'Dimmi le attività di lunedì' -> SMART Model
2026-01-15 09:31:31 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Lunedì'}
2026-01-15 09:31:31 [INFO] kmchat.cli - Routing: 'Quando dico Aulin intendo la forma granulare' -> SMART Model
2026-01-15 09:31:52 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Quando dico Aulin intendo la forma granulare'}
2026-01-15 09:31:53 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:31:55 [INFO] kmchat.cli - Routing: 'Ora Aulin intendo la supposta' -> SMART Model
2026-01-15 09:32:16 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Ora Aulin intendo la supposta'}
2026-01-15 09:32:16 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:32:18 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:32:39 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:32:39 [INFO] kmchat.cli - Routing: 'La mia visita abituale è alle 18:00' -> SMART Model
2026-01-15 09:33:01 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'La mia visita abituale è alle 18:00'}
2026-01-15 09:33:02 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:33:03 [INFO] kmchat.cli - Routing: 'Domani visita anticipata alle 14:00' -> SMART Model
2026-01-15 09:33:23 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'caregiver', 'content': 'Domani visita anticipata alle 14:00'}
2026-01-15 09:33:24 [INFO] kmchat.cli - Routing: 'Salva questa informazione' -> SMART Model
2026-01-15 09:33:25 [INFO] kmchat.cli - Routing: 'Quali sono le note del caregiver?' -> SMART Model
2026-01-15 09:33:46 [INFO] kmchat.cli - Tool: get_caregiver_info Args: {'category': 'notes'}
2026-01-15 09:34:47 [INFO] kmchat.cli - Routing: 'Passa al paziente TestAuto1' -> SMART Model
2026-01-15 09:35:20 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'TestAuto1', 'caregiver_id': 'andrea_01'}
2026-01-15 09:35:21 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea' -> SMART Model
2026-01-15 09:35:46 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': None, 'caregiver_id': 'andrea_01'}
2026-01-15 09:35:46 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-15 09:36:14 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-15 09:36:15 [INFO] kmchat.cli - Routing: 'Conferma' -> SMART Model
2026-01-15 09:36:16 [INFO] kmchat.cli - Routing: 'Dimmi le attività di martedì' -> SMART Model
2026-01-15 09:36:41 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Martedì'}
2026-01-15 09:36:42 [INFO] kmchat.cli - Routing: 'Dimmi le attività di mercoledì' -> SMART Model
2026-01-15 09:37:08 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Mercoledì'}
2026-01-15 09:37:08 [INFO] kmchat.cli - Routing: 'Dimmi le attività di giovedì' -> SMART Model
2026-01-15 09:37:33 [INFO] kmchat.cli - Tool: get_schedule Args: {'day': 'Giovedì'}
2026-01-15 09:37:34 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana' -> SMART Model
2026-01-15 09:37:59 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 09:39:17 [INFO] kmchat.cli - Routing: 'passa a Mario Rossi' -> SMART Model
2026-01-15 09:39:48 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_01'}
2026-01-15 09:40:50 [INFO] kmchat.cli - Routing: 'Passa al caregiver Andrea Bianchi' -> SMART Model
2026-01-15 09:41:23 [INFO] kmchat.cli - Tool: switch_context Args: {'patient_id': 'mario_rossi', 'caregiver_id': 'andrea_bianchi'}
2026-01-15 09:42:22 [INFO] kmchat.cli - Routing: 'Dimmi le attività della settimana ' -> SMART Model
2026-01-15 09:42:58 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 09:43:17 [INFO] kmchat.cli - Routing: 'Aggiungi attività 'Controllo pressione' martedì alle 09:00 per i prossimi 2 giorni' -> SMART Model
2026-01-15 09:43:49 [INFO] kmchat.cli - Tool: add_activity Args: {'name': 'Controllo pressione', 'days': ['Martedì', 'Mercoledì'], 'time': '09:00', 'duration_days': 2, 'dependencies': [], 'description': 'Controllo pressione'}
2026-01-15 09:44:03 [INFO] kmchat.cli - Routing: 'conferma' -> SMART Model
2026-01-15 09:44:20 [INFO] kmchat.cli - Routing: 'dimmi le attività della settimana' -> SMART Model
2026-01-15 09:44:47 [INFO] kmchat.cli - Tool: get_schedule_week Args: {}
2026-01-15 09:46:13 [INFO] kmchat.cli - Routing: 'il paziente non deve assumere liquidi per 24 ore' -> SMART Model
2026-01-15 09:46:46 [INFO] kmchat.cli - Tool: save_knowledge Args: {'category': 'conditions', 'content': 'Il paziente non deve assumere liquidi per 24 ore'}
2026-01-15 09:46:56 [INFO] kmchat.cli - Routing: 'conferma' -> SMART Model
2026-01-15 09:47:22 [INFO] kmchat.cli - Routing: 'aggiungi attività "Spremuta d'arancia" oggi alle 18' -> SMART Model
2026-01-15 09:47:52 [INFO] kmchat.cli - Tool: add_activity Args: {'name': "Spremuta d'arancia", 'days': ['Martedì'], 'time': '18:00', 'dependencies': [], 'description': "Spremuta d'arancia"}
2026-01-15 09:48:53 [INFO] kmchat.cli - Routing: 'Annulla' -> SMART Model
2026-01-15 09:49:05 [INFO] kmchat.cli - Routing: 'ciao' -> SMART Model
